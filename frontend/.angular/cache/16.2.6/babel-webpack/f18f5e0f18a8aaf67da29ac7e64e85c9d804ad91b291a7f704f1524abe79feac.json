{"ast":null,"code":"import { Nastavnik } from '../models/nastavnik';\nimport { Helper } from '../models/helper';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../servisi/loginservis.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/icon\";\nfunction NastavnikComponent_div_13_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const predmet_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(predmet_r6);\n  }\n}\nfunction NastavnikComponent_div_13_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const razred_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(razred_r7);\n  }\n}\nfunction NastavnikComponent_div_13_label_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\")(1, \"input\", 32);\n    i0.ɵɵlistener(\"change\", function NastavnikComponent_div_13_label_70_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const predmet_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.toggleSelection(predmet_r8.predmet));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const predmet_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", predmet_r8.predmet);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", predmet_r8.predmet, \" \");\n  }\n}\nfunction NastavnikComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"div\", 6)(3, \"div\", 7)(4, \"div\", 8);\n    i0.ɵɵelement(5, \"img\", 9);\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7, \" PFP: \");\n    i0.ɵɵelementStart(8, \"input\", 11);\n    i0.ɵɵlistener(\"change\", function NastavnikComponent_div_13_Template_input_change_8_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onImageSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"mat-icon\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 13)(11, \"h4\", 14);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 15);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 15);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 15);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 15);\n    i0.ɵɵtext(20, \"Predmeti: \");\n    i0.ɵɵtemplate(21, NastavnikComponent_div_13_ng_container_21_Template, 3, 1, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\", 15);\n    i0.ɵɵtext(23, \"Razredi: \");\n    i0.ɵɵtemplate(24, NastavnikComponent_div_13_ng_container_24_Template, 3, 1, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\", 15)(26, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_13_Template_a_click_26_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.openPdf());\n    });\n    i0.ɵɵelementStart(27, \"mat-icon\");\n    i0.ɵɵtext(28, \"description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \" Moj CV \");\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelement(30, \"hr\");\n    i0.ɵɵelementStart(31, \"h3\");\n    i0.ɵɵtext(32, \"Uredi Profil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"label\", 18);\n    i0.ɵɵtext(34, \"Ime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_13_Template_input_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.edited.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"label\", 20);\n    i0.ɵɵtext(38, \"Prezime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_13_Template_input_ngModelChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.edited.surname = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(40, \"br\");\n    i0.ɵɵelementStart(41, \"label\", 22);\n    i0.ɵɵtext(42, \"Adresa:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_13_Template_input_ngModelChange_43_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.edited.adress = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(44, \"br\");\n    i0.ɵɵelementStart(45, \"label\", 24);\n    i0.ɵɵtext(46, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_13_Template_input_ngModelChange_47_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.edited.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(48, \"br\");\n    i0.ɵɵelementStart(49, \"label\", 26);\n    i0.ɵɵtext(50, \"Telefon:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_13_Template_input_ngModelChange_51_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.edited.telephone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(52, \"br\");\n    i0.ɵɵelementStart(53, \"p\");\n    i0.ɵɵtext(54, \"Razredi(izaberite sve razrede kojima biste predavali):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"label\")(56, \"input\", 28);\n    i0.ɵɵlistener(\"change\", function NastavnikComponent_div_13_Template_input_change_56_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.toggleAge(\"osnovna1-4\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \" Osnovna \\u0161kola 1-4. razred \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(58, \"br\");\n    i0.ɵɵelementStart(59, \"label\")(60, \"input\", 28);\n    i0.ɵɵlistener(\"change\", function NastavnikComponent_div_13_Template_input_change_60_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.toggleAge(\"osnovna5-8\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \" Osnovna \\u0161kola 5-8. razred \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(62, \"br\");\n    i0.ɵɵelementStart(63, \"label\")(64, \"input\", 28);\n    i0.ɵɵlistener(\"change\", function NastavnikComponent_div_13_Template_input_change_64_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.toggleAge(\"srednja\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \" Srednja \\u0161kola \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(66, \"br\");\n    i0.ɵɵtext(67, \" Koje predmete bi predavali?(izaberite sve predmete koje bi predavali) \");\n    i0.ɵɵelement(68, \"br\");\n    i0.ɵɵelementStart(69, \"div\", 29);\n    i0.ɵɵtemplate(70, NastavnikComponent_div_13_label_70_Template, 3, 2, \"label\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_13_Template_button_click_71_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.saveChanges());\n    });\n    i0.ɵɵtext(72, \"Sa\\u010Duvaj\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", ctx_r0.imgRel, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.nastavnik.name, \" \", ctx_r0.nastavnik.surname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Adresa:\", ctx_r0.nastavnik.adress, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email:\", ctx_r0.nastavnik.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Telefon:\", ctx_r0.nastavnik.telephone, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.nastavnik.predmeti);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.nastavnik.razredi);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.edited.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.edited.surname);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.edited.adress);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.edited.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.edited.telephone);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"checked\", ctx_r0.selectedAges.includes(\"osnovna1-4\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r0.selectedAges.includes(\"osnovna5-8\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r0.selectedAges.includes(\"srednja\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.predmeti);\n  }\n}\nfunction NastavnikComponent_div_14_ng_container_23_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"(dupli cas)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_ng_container_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵtemplate(9, NastavnikComponent_div_14_ng_container_23_span_9_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_ng_container_23_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const zahtev_r27 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.prihvatiCas(zahtev_r27));\n    });\n    i0.ɵɵtext(16, \"Prihvati\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\")(18, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_ng_container_23_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const zahtev_r27 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r31.odbijCas(zahtev_r27));\n    });\n    i0.ɵɵtext(19, \"Odbij\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\u00A0 \");\n    i0.ɵɵelementStart(21, \"input\", 40);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_14_ng_container_23_Template_input_ngModelChange_21_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const zahtev_r27 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(zahtev_r27.komentar = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const zahtev_r27 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", zahtev_r27.ucenikName, \" \", zahtev_r27.ucenikSurname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(zahtev_r27.predmet);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 8, zahtev_r27.startDisplayTime, \"MM-dd-yyyy HH:mm\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", zahtev_r27.isduble === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(zahtev_r27.opis);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(zahtev_r27.avgOcena);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", zahtev_r27.komentar);\n  }\n}\nfunction NastavnikComponent_div_14_tbody_50_ng_container_1_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_tbody_50_ng_container_1_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const zahtev_r34 = i0.ɵɵnextContext().$implicit;\n      const ctx_r38 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r38.odrziCas(zahtev_r34.datumvreme, zahtev_r34));\n    });\n    i0.ɵɵtext(1, \"Odrzi Cas\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_tbody_50_ng_container_1_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_tbody_50_ng_container_1_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const zahtev_r34 = i0.ɵɵnextContext().$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r41.otkazi(zahtev_r34.datumvreme, zahtev_r34));\n    });\n    i0.ɵɵtext(1, \"Otkazi\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_tbody_50_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtemplate(10, NastavnikComponent_div_14_tbody_50_ng_container_1_button_10_Template, 2, 0, \"button\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, NastavnikComponent_div_14_tbody_50_ng_container_1_button_12_Template, 2, 0, \"button\", 42);\n    i0.ɵɵtext(13, \"\\u00A0 \");\n    i0.ɵɵelementStart(14, \"input\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_14_tbody_50_ng_container_1_Template_input_ngModelChange_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const zahtev_r34 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(zahtev_r34.komentar = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const zahtev_r34 = ctx.$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 7, zahtev_r34.startDisplayTime, \"MM-dd-yyyy HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(zahtev_r34.predmet);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", zahtev_r34.ucenikName, \" \", zahtev_r34.ucenikSurname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.isWithinFifteenMinutes(zahtev_r34.startDisplayTime));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r33.iswithin4Hurs(zahtev_r34.startDisplayTime));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", zahtev_r34.komentar);\n  }\n}\nfunction NastavnikComponent_div_14_tbody_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, NastavnikComponent_div_14_tbody_50_ng_container_1_Template, 15, 10, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r24.casthree.slice(0, 5));\n  }\n}\nfunction NastavnikComponent_div_14_tbody_51_ng_container_1_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_tbody_51_ng_container_1_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const zahtev_r47 = i0.ɵɵnextContext().$implicit;\n      const ctx_r51 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r51.odrziCas(zahtev_r47.datumvreme, zahtev_r47));\n    });\n    i0.ɵɵtext(1, \"Odrzi Cas\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_tbody_51_ng_container_1_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_tbody_51_ng_container_1_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const zahtev_r47 = i0.ɵɵnextContext().$implicit;\n      const ctx_r54 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r54.otkazi(zahtev_r47.datumvreme, zahtev_r47));\n    });\n    i0.ɵɵtext(1, \"Otkazi\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_tbody_51_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtemplate(10, NastavnikComponent_div_14_tbody_51_ng_container_1_button_10_Template, 2, 0, \"button\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, NastavnikComponent_div_14_tbody_51_ng_container_1_button_12_Template, 2, 0, \"button\", 42);\n    i0.ɵɵtext(13, \"\\u00A0 \");\n    i0.ɵɵelementStart(14, \"input\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_14_tbody_51_ng_container_1_Template_input_ngModelChange_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r58);\n      const zahtev_r47 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(zahtev_r47.komentar = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const zahtev_r47 = ctx.$implicit;\n    const ctx_r46 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 7, zahtev_r47.startDisplayTime, \"MM-dd-yyyy HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(zahtev_r47.predmet);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", zahtev_r47.ucenikName, \" \", zahtev_r47.ucenikSurname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r46.isWithinFifteenMinutes(zahtev_r47.startDisplayTime));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r46.iswithin4Hurs(zahtev_r47.startDisplayTime));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", zahtev_r47.komentar);\n  }\n}\nfunction NastavnikComponent_div_14_tbody_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, NastavnikComponent_div_14_tbody_51_ng_container_1_Template, 15, 10, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.allCasovi.slice(0, 10));\n  }\n}\nfunction NastavnikComponent_div_14_tbody_52_ng_container_1_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_tbody_52_ng_container_1_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const zahtev_r60 = i0.ɵɵnextContext().$implicit;\n      const ctx_r63 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r63.odrziCas(zahtev_r60.datumvreme, zahtev_r60));\n    });\n    i0.ɵɵtext(1, \"Odrzi Cas\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_tbody_52_ng_container_1_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r68 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_tbody_52_ng_container_1_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const zahtev_r60 = i0.ɵɵnextContext().$implicit;\n      const ctx_r66 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r66.otkazi(zahtev_r60.datumvreme, zahtev_r60));\n    });\n    i0.ɵɵtext(1, \"Otkazi\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NastavnikComponent_div_14_tbody_52_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r70 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtemplate(10, NastavnikComponent_div_14_tbody_52_ng_container_1_button_10_Template, 2, 0, \"button\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, NastavnikComponent_div_14_tbody_52_ng_container_1_button_12_Template, 2, 0, \"button\", 42);\n    i0.ɵɵtext(13, \"\\u00A0 \");\n    i0.ɵɵelementStart(14, \"input\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_14_tbody_52_ng_container_1_Template_input_ngModelChange_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r70);\n      const zahtev_r60 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(zahtev_r60.komentar = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const zahtev_r60 = ctx.$implicit;\n    const ctx_r59 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 7, zahtev_r60.startDisplayTime, \"MM-dd-yyyy HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(zahtev_r60.predmet);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", zahtev_r60.ucenikName, \" \", zahtev_r60.ucenikSurname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r59.isWithinFifteenMinutes(zahtev_r60.startDisplayTime));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r59.iswithin4Hurs(zahtev_r60.startDisplayTime));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", zahtev_r60.komentar);\n  }\n}\nfunction NastavnikComponent_div_14_tbody_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, NastavnikComponent_div_14_tbody_52_ng_container_1_Template, 15, 10, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r26.allCasovi);\n  }\n}\nfunction NastavnikComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r72 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 33)(2, \"div\", 34)(3, \"h3\");\n    i0.ɵɵtext(4, \"Tabela zahteva\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 35)(6, \"thead\")(7, \"tr\")(8, \"th\");\n    i0.ɵɵtext(9, \"U\\u010Denik\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Predmet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Opis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Prosecna ocena\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"Prihvati\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Odbij\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"tbody\");\n    i0.ɵɵtemplate(23, NastavnikComponent_div_14_ng_container_23_Template, 22, 11, \"ng-container\", 16);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 33)(25, \"div\", 34)(26, \"h3\");\n    i0.ɵɵtext(27, \"Narednih 5 \\u010Dasova\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const ctx_r71 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r71.changeDisplay(1));\n    });\n    i0.ɵɵtext(29, \"5 casova u 3 dana\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\u00A0 \");\n    i0.ɵɵelementStart(31, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const ctx_r73 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r73.changeDisplay(2));\n    });\n    i0.ɵɵtext(32, \"10 casova\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\u00A0 \");\n    i0.ɵɵelementStart(34, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_14_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.changeDisplay(3));\n    });\n    i0.ɵɵtext(35, \"Svi casovi \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\u00A0 \");\n    i0.ɵɵelementStart(37, \"table\", 35)(38, \"thead\")(39, \"tr\")(40, \"th\");\n    i0.ɵɵtext(41, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"th\");\n    i0.ɵɵtext(43, \"Predmet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"th\");\n    i0.ɵɵtext(45, \"U\\u010Denik\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"th\");\n    i0.ɵɵtext(47, \"Udji\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"th\");\n    i0.ɵɵtext(49, \"Otkazi\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(50, NastavnikComponent_div_14_tbody_50_Template, 2, 1, \"tbody\", 4);\n    i0.ɵɵtemplate(51, NastavnikComponent_div_14_tbody_51_Template, 2, 1, \"tbody\", 4);\n    i0.ɵɵtemplate(52, NastavnikComponent_div_14_tbody_52_Template, 2, 1, \"tbody\", 4);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(23);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.casovizapotvrdu);\n    i0.ɵɵadvance(27);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.displayCasovi === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.displayCasovi === 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.displayCasovi === 3);\n  }\n}\nfunction NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 47);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementStart(3, \"input\", 48);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template_input_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const i_r80 = restoredCtx.index;\n      const ucenik_r76 = i0.ɵɵnextContext(2).$implicit;\n      return i0.ɵɵresetView(ucenik_r76.casovi[i_r80].ocena = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 49);\n    i0.ɵɵlistener(\"ngModelChange\", function NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template_input_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const i_r80 = restoredCtx.index;\n      const ucenik_r76 = i0.ɵɵnextContext(2).$implicit;\n      return i0.ɵɵresetView(ucenik_r76.casovi[i_r80].komentar = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\u00A0 \");\n    i0.ɵɵelementStart(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const cas_r79 = restoredCtx.$implicit;\n      const ctx_r86 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r86.updateCas(cas_r79));\n    });\n    i0.ɵɵtext(7, \"Ostavi ocenu/komentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cas_r79 = ctx.$implicit;\n    const i_r80 = ctx.index;\n    const ucenik_r76 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", cas_r79.predmet, \" - \", i0.ɵɵpipeBind2(2, 4, cas_r79.startDisplayTime, \"MM-dd-yyyy HH:mm\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ucenik_r76.casovi[i_r80].ocena);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ucenik_r76.casovi[i_r80].komentar);\n  }\n}\nfunction NastavnikComponent_div_15_ng_container_7_tr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 44)(2, \"h4\");\n    i0.ɵɵtext(3, \"Dosije\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 45);\n    i0.ɵɵtemplate(5, NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template, 8, 7, \"span\", 46);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ucenik_r76 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ucenik_r76.casovi);\n  }\n}\nfunction NastavnikComponent_div_15_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r90 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\")(5, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NastavnikComponent_div_15_ng_container_7_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r90);\n      const ucenik_r76 = restoredCtx.$implicit;\n      const ctx_r89 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r89.getAll(ucenik_r76));\n    });\n    i0.ɵɵtext(6, \"Dosije Toggle\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(7, NastavnikComponent_div_15_ng_container_7_tr_7_Template, 6, 1, \"tr\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ucenik_r76 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ucenik_r76.fullname);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ucenik_r76.toggle);\n  }\n}\nfunction NastavnikComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 33)(2, \"div\", 34)(3, \"h3\");\n    i0.ɵɵtext(4, \"Moji U\\u010Denici\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 35)(6, \"tbody\");\n    i0.ɵɵtemplate(7, NastavnikComponent_div_15_ng_container_7_Template, 8, 2, \"ng-container\", 16);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.helper);\n  }\n}\nexport class NastavnikComponent {\n  constructor(servis, router, cdr) {\n    this.servis = servis;\n    this.router = router;\n    this.cdr = cdr;\n    this.where = 1;\n    this.displayCasovi = 1;\n    this.username = \"nastavnik3\";\n    this.nastavnik = new Nastavnik();\n    this.edited = new Nastavnik();\n    this.selectedAges = [];\n    this.casthree = [];\n    this.firstFiveElements = [];\n    this.casovizapotvrdu = [];\n    this.casovizaucenike = [];\n    this.ucenici = [];\n    this.ucenicinodupes = [];\n    this.helper = [];\n    this.predmeti = [];\n    this.selectedPredmeti = [];\n    this.backend = \"http://localhost:4000\";\n    this.imgRel = \"http://localhost:4000\";\n    this.selectedFile = null;\n    this.selectedPDF = null;\n    this.imageUrl = \"\";\n    this.pdfUrl = \"\";\n    this.updatedpdfUrl = \"\";\n    this.zaOpenPDF = \"\";\n    this.mails = [];\n    this.allCasovi = [];\n    this.odbijenKomentar = \"\";\n  }\n  ngOnInit() {\n    this.where = 1;\n    this.username = \"nastavnik3\";\n    let logged = localStorage.getItem(\"nastavnik\");\n    if (!logged) {\n      console.log(\"AM HERE\");\n      this.router.navigate(['login']);\n    } else {\n      this.username = logged;\n    }\n    this.servis.getpredmeti(1).subscribe(data => {\n      if (data) this.predmeti = data;\n    });\n    this.servis.getAllNastavnik().subscribe(nst => {\n      this.servis.getAllUcenici().subscribe(ucenici => {\n        for (let a of ucenici) {\n          this.mails.push(a.email);\n        }\n        for (let b of nst) {\n          this.mails.push(b.email);\n        }\n      });\n    });\n    this.servis.getnastavnik(this.username).subscribe(nst => {\n      this.nastavnik = nst;\n      this.imgRel += nst.profilePic;\n      this.zaOpenPDF = nst.CV;\n      this.pdfUrl = this.backend + nst.CV;\n    });\n    this.selectedAges = [];\n    this.edited = new Nastavnik();\n    this.servis.getpotvrda(this.username).subscribe(casovi => {\n      this.casovizapotvrdu = casovi;\n      for (let a of this.casovizapotvrdu) {\n        a.startDisplayTime = new Date(a.datumvreme);\n        a.endDisplayTime = new Date(a.datumvremekraj);\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n        a.endDisplayTime.setHours(a.endDisplayTime.getHours() - 1);\n        this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n          if (ucenik) {\n            a.ucenikName = ucenik.name;\n            a.ucenikSurname = ucenik.surname;\n          }\n        });\n        if (a.endDisplayTime.getHours() - a.startDisplayTime.getHours() === 2) {\n          a.isduble = 1;\n        }\n        this.servis.casget(1, a.ucenik).subscribe(data => {\n          if (data) {\n            let sum = 0;\n            let num = 0;\n            for (let cas of data) {\n              if (cas.ocena !== 0) {\n                num++;\n                sum += cas.ocena;\n              }\n            }\n            if (num >= 3) {\n              a.avgOcena = sum / num;\n            }\n          }\n        });\n      }\n    });\n    this.servis.casGETALL(this.username).subscribe(casovi => {\n      this.allCasovi = casovi;\n      this.allCasovi.sort((a, b) => {\n        const dateA = new Date(a.datumvreme);\n        const dateB = new Date(b.datumvreme);\n        if (dateA < dateB) return -1;\n        if (dateA > dateB) return 1;\n        return 0;\n      });\n      this.allCasovi = this.allCasovi.filter(dt => new Date(dt.datumvreme) >= new Date());\n      for (let a of this.allCasovi) {\n        a.startDisplayTime = new Date(a.datumvreme);\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n        this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n          if (ucenik) {\n            a.ucenikName = ucenik.name;\n            a.ucenikSurname = ucenik.surname;\n          }\n        });\n      }\n    });\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n      //this.casthree = this.casthree.filter(dt => new Date(dt.datumvreme) >= new Date())\n      for (let a of this.casthree) {\n        a.startDisplayTime = new Date(a.datumvreme);\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n        this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n          if (ucenik) {\n            a.ucenikName = ucenik.name;\n            a.ucenikSurname = ucenik.surname;\n          }\n        });\n      }\n    });\n    this.servis.getsvojeucenike(this.username).subscribe(casovi => {\n      this.casovizaucenike = casovi;\n      for (let cas of this.casovizaucenike) {\n        this.ucenici.push(cas.ucenik);\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici));\n      for (let ucenik of this.ucenicinodupes) {\n        let hlp = new Helper();\n        hlp.ucenik = ucenik;\n        this.servis.getucenik(ucenik).subscribe(rez => {\n          hlp.fullname = rez.name + \" \" + rez.surname;\n        });\n        this.helper.push(hlp);\n      }\n    });\n  }\n  updateCas(cas) {\n    if (cas.ocena > 5 || cas.ocena < 0) {\n      alert(\"Ocena moze biti od 1 do 5 \");\n      return;\n    }\n    this.servis.updateCas(cas).subscribe(data => {\n      console.log(data.message);\n    });\n    for (let a of this.helper) {\n      if (a.ucenik === cas.ucenik) {\n        for (let b of a.casovi) {\n          if (cas.datumvreme === b.datumvreme) {\n            b.ocena = cas.ocena;\n            b.komentar = cas.komentar;\n            return;\n          }\n        }\n      }\n    }\n    //this.servis.getsvojeucenike(this.username).subscribe(casovi=>{\n    //this.casovizaucenike = casovi\n    //for (let cas of this.casovizaucenike){\n    // this.ucenici.push(cas.ucenik)\n    //}\n    //this.ucenicinodupes = Array.from(new Set(this.ucenici))\n    //this.helper = []\n    //for (let ucenik of this.ucenicinodupes){\n    //   let hlp = new Helper()\n    //    hlp.ucenik = ucenik\n    //  this.helper.push(hlp)\n    // }\n    //})\n  }\n\n  getAll(name) {\n    if (name.toggle) {\n      name.toggle = 0;\n    } else {\n      name.toggle = 1;\n    }\n  }\n  changeWhere(b) {\n    this.where = b;\n    if (b == 3) {\n      for (let hlp of this.helper) {\n        this.servis.getdosije(hlp.ucenik, this.username).subscribe(casovi => {\n          hlp.casovi = casovi;\n          for (let a of hlp.casovi) {\n            a.startDisplayTime = new Date(a.datumvreme);\n            a.endDisplayTime = new Date(a.datumvremekraj);\n            a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n            a.endDisplayTime.setHours(a.endDisplayTime.getHours() - 1);\n          }\n        });\n      }\n    }\n  }\n  changeDisplay(b) {\n    this.displayCasovi = b;\n  }\n  saveChanges() {\n    if (this.selectedPredmeti.length === 0) {\n      this.edited.predmeti = this.nastavnik.predmeti;\n    } else {\n      this.edited.predmeti = this.selectedPredmeti;\n    }\n    this.edited.username = this.nastavnik.username;\n    if (this.edited.name === \"\") this.edited.name = this.nastavnik.name;\n    if (this.edited.surname === \"\") this.edited.surname = this.nastavnik.surname;\n    if (this.edited.adress === \"\") this.edited.adress = this.nastavnik.adress;\n    if (this.edited.email === \"\") {\n      this.edited.email = this.nastavnik.email;\n    } else {\n      const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n      if (!emailRegex.test(this.edited.email)) {\n        alert(\"Format mail-a je los\");\n        this.edited = new Nastavnik();\n        return;\n      }\n      if (this.mails.includes(this.edited.email)) {\n        alert(\"Mail je vec u upotrebi\");\n        this.edited = new Nastavnik();\n        return;\n      }\n    }\n    if (this.edited.telephone === \"\") {\n      this.edited.telephone = this.nastavnik.telephone;\n    } else {\n      const regex = /^[0-9]+$/;\n      if (!regex.test(this.edited.telephone)) {\n        alert(\"Telefon moraju biti brojevi\");\n        this.edited = new Nastavnik();\n        return;\n      }\n    }\n    if (this.selectedAges.length === 0) {\n      this.edited.razredi = this.nastavnik.razredi;\n    } else {\n      this.edited.razredi = this.selectedAges;\n    }\n    this.servis.updatenastavnik(this.edited).subscribe(data => {\n      if (data.message === \"uspesnoupdated\") {\n        this.nastavnik.name = this.edited.name;\n        this.nastavnik.surname = this.edited.surname;\n        this.nastavnik.adress = this.edited.adress;\n        this.nastavnik.email = this.edited.email;\n        this.nastavnik.telephone = this.edited.telephone;\n        this.nastavnik.predmeti = this.edited.predmeti;\n        this.nastavnik.razredi = this.edited.razredi;\n        this.edited = new Nastavnik();\n        this.mails = [];\n        this.servis.getAllNastavnik().subscribe(nst => {\n          this.servis.getAllUcenici().subscribe(ucenici => {\n            for (let a of ucenici) {\n              this.mails.push(a.email);\n            }\n            for (let b of nst) {\n              this.mails.push(b.email);\n            }\n          });\n        });\n      }\n    });\n    //this.servis.getnastavnik(this.username).subscribe(nst=>{\n    //  this.nastavnik = nst\n    //})\n    //this.ngOnInit()\n  }\n\n  toggleAge(age) {\n    if (this.selectedAges.includes(age)) {\n      this.selectedAges = this.selectedAges.filter(item => item !== age);\n    } else {\n      // Dodaj uzrast ako ne postoji u nizu\n      this.selectedAges.push(age);\n    }\n  }\n  prihvatiCas(cas) {\n    this.servis.potvrdiCas(cas.datumvreme, this.username, 1, cas._id).subscribe(data => {});\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n      this.casovizapotvrdu = this.casovizapotvrdu.filter(cs => cs._id !== cas._id);\n      for (let a of this.casthree) {\n        a.startDisplayTime = new Date(a.datumvreme);\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n        this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n          if (ucenik) {\n            a.ucenikName = ucenik.name;\n            a.ucenikSurname = ucenik.surname;\n          }\n        });\n      }\n      this.servis.casGETALL(this.username).subscribe(casovi => {\n        this.allCasovi = casovi;\n        this.allCasovi.sort((a, b) => {\n          const dateA = new Date(a.datumvreme);\n          const dateB = new Date(b.datumvreme);\n          if (dateA < dateB) return -1;\n          if (dateA > dateB) return 1;\n          return 0;\n        });\n        this.allCasovi = this.allCasovi.filter(dt => new Date(dt.datumvreme) >= new Date());\n        for (let a of this.allCasovi) {\n          a.startDisplayTime = new Date(a.datumvreme);\n          a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n          this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n            if (ucenik) {\n              a.ucenikName = ucenik.name;\n              a.ucenikSurname = ucenik.surname;\n            }\n          });\n        }\n      });\n    });\n  }\n  odbijCas(cas) {\n    if (cas.komentar === \"\") {\n      alert(\"Morate reci zasto ste odbili cas\");\n      return;\n    }\n    this.servis.potvrdiCas(cas.datumvreme, this.username, 2, cas._id).subscribe(data => {});\n    this.servis.updateCas(cas).subscribe(data => {});\n    this.casovizapotvrdu = this.casovizapotvrdu.filter(cs => cs._id !== cas._id);\n    // this.servis.getpotvrda(this.username).subscribe(casovi =>{\n    //   this.casovizapotvrdu = casovi\n    //   for(let a of this.casovizapotvrdu){\n    //     this.servis.casget(1,a.ucenik).subscribe(data=>{\n    //       if(data){\n    //         let sum = 0\n    //         let num = 0\n    //         for(let cas of data){\n    //           if(cas.ocena !== 0){\n    //             num++;\n    //             sum += cas.ocena\n    //           }\n    //         }\n    //         if(num >= 3){\n    //           a.avgOcena = sum/num\n    //         }\n    //       }\n    //     })\n    //   }\n    // })\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n      for (let a of this.casthree) {\n        a.startDisplayTime = new Date(a.datumvreme);\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n        this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n          if (ucenik) {\n            a.ucenikName = ucenik.name;\n            a.ucenikSurname = ucenik.surname;\n          }\n        });\n      }\n      this.servis.casGETALL(this.username).subscribe(casovi => {\n        this.allCasovi = casovi;\n        this.allCasovi.sort((a, b) => {\n          const dateA = new Date(a.datumvreme);\n          const dateB = new Date(b.datumvreme);\n          if (dateA < dateB) return -1;\n          if (dateA > dateB) return 1;\n          return 0;\n        });\n        this.allCasovi = this.allCasovi.filter(dt => new Date(dt.datumvreme) >= new Date());\n        for (let a of this.allCasovi) {\n          a.startDisplayTime = new Date(a.datumvreme);\n          a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1);\n          this.servis.getucenik(a.ucenik).subscribe(ucenik => {\n            if (ucenik) {\n              a.ucenikName = ucenik.name;\n              a.ucenikSurname = ucenik.surname;\n            }\n          });\n        }\n      });\n    });\n  }\n  odrziCas(datum, cas) {\n    cas.hidden = 0;\n    this.servis.odrziCas(datum, this.username, 1).subscribe(data => {});\n    //this.servis.getpotvrda(this.username).subscribe(casovi =>{\n    //  this.casovizapotvrdu = casovi\n    //})\n    this.servis.getsvojeucenike(this.username).subscribe(casovi => {\n      this.casovizaucenike = casovi;\n      for (let cas of this.casovizaucenike) {\n        this.ucenici.push(cas.ucenik);\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici));\n      this.helper = [];\n      for (let ucenik of this.ucenicinodupes) {\n        let hlp = new Helper();\n        hlp.ucenik = ucenik;\n        this.servis.getucenik(ucenik).subscribe(rez => {\n          hlp.fullname = rez.name + \" \" + rez.surname;\n        });\n        this.helper.push(hlp);\n      }\n    });\n    this.casthree = this.casthree.filter(dt => dt._id !== cas._id);\n    this.allCasovi = this.allCasovi.filter(dt => dt._id !== cas._id);\n    //this.servis.getthree(this.username).subscribe(casovi =>{\n    //  this.casthree = casovi\n    //})\n  }\n\n  otkazi(datum, cas) {\n    cas.hidden = 0;\n    if (cas.komentar === \"\") {\n      alert(\"Obrazlozenje zasto je otkazan\");\n      return;\n    }\n    this.servis.odrziCas(datum, this.username, 2).subscribe(data => {});\n    //this.servis.getpotvrda(this.username).subscribe(casovi =>{\n    //  this.casovizapotvrdu = casovi\n    //})\n    this.servis.updateCas(cas).subscribe(data => {});\n    this.servis.getsvojeucenike(this.username).subscribe(casovi => {\n      this.casovizaucenike = casovi;\n      for (let cas of this.casovizaucenike) {\n        this.ucenici.push(cas.ucenik);\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici));\n      this.helper = [];\n      for (let ucenik of this.ucenicinodupes) {\n        let hlp = new Helper();\n        hlp.ucenik = ucenik;\n        this.servis.getucenik(ucenik).subscribe(rez => {\n          hlp.fullname = rez.name + \" \" + rez.surname;\n        });\n        this.helper.push(hlp);\n      }\n    });\n    this.casthree = this.casthree.filter(dt => dt._id !== cas._id);\n    this.allCasovi = this.allCasovi.filter(dt => dt._id !== cas._id);\n    //this.servis.getthree(this.username).subscribe(casovi =>{\n    //  this.casthree = casovi\n    //})\n  }\n\n  LogOut() {\n    localStorage.clear();\n    this.router.navigate(['']);\n  }\n  toggleSelection(predmet) {\n    if (this.selectedPredmeti.includes(predmet)) {\n      this.selectedPredmeti = this.selectedPredmeti.filter(p => p !== predmet);\n    } else {\n      this.selectedPredmeti.push(predmet);\n    }\n  }\n  openPdf() {\n    if (this.pdfUrl) {\n      console.log(this.pdfUrl);\n      window.open(this.pdfUrl, '_blank');\n    }\n  }\n  onImageSelected(event) {\n    this.selectedFile = event.target.files[0];\n    const fileReader = new FileReader();\n    if (!this.selectedFile) {\n      // If no file is selected (file input field is empty), set showPic to 0\n      this.selectedFile = null; // Clear the selected file\n      return;\n    }\n    fileReader.onload = e => {\n      const img = new Image();\n      img.src = fileReader.result;\n      img.onload = () => {\n        const width = img.width;\n        const height = img.height;\n        if (width >= 100 && width <= 300 && height >= 100 && height <= 300) {\n          console.log(\"Image dimensions are valid:\", width, \"x\", height);\n          this.uploadTest().then(() => {\n            this.imgRel = this.backend + this.imageUrl;\n            this.edited.profilePic = this.imageUrl;\n            this.servis.updateSlikaNastavnik(this.nastavnik.username, this.imageUrl).subscribe(rez => {});\n          });\n        } else {\n          alert(\"Image dimensions are invalid:\" + width + \"x\" + height);\n          console.log(\"Image dimensions are invalid:\", width, \"x\", height);\n          this.selectedFile = null; // Clear the selected file\n          return;\n        }\n      };\n    };\n    fileReader.readAsDataURL(this.selectedFile);\n  }\n  onPdfSelected(event) {\n    this.selectedPDF = event.target.files[0];\n    if (!this.selectedPDF) {\n      // If no file is selected (file input field is empty), reset selectedPDF and return\n      this.selectedPDF = null;\n      return;\n    }\n    if (this.selectedPDF.size > 3 * 1024 * 1024) {\n      this.selectedPDF = null;\n      alert(\"CV ne sme imati vise od 3MB\");\n      return;\n    }\n    this.uploadPDF().then(() => {\n      this.servis.updateCV(this.nastavnik.username, this.updatedpdfUrl).subscribe(rez => {});\n      this.zaOpenPDF = this.updatedpdfUrl;\n      this.pdfUrl = this.backend + this.updatedpdfUrl;\n    });\n  }\n  uploadTest() {\n    return new Promise((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedFile).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.imageUrl = data.filename;\n          resolve();\n        } else {\n          reject(new Error('Upload failed'));\n        }\n      });\n    });\n  }\n  uploadPDF() {\n    return new Promise((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedPDF).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.updatedpdfUrl = data.filename;\n          console.log(this.updatedpdfUrl);\n          resolve();\n        } else {\n          reject(new Error('Upload failed'));\n        }\n      });\n    });\n  }\n  isWithinFifteenMinutes(dateTimeString) {\n    let zahtevDateTime = new Date(dateTimeString);\n    let currentDateTime = new Date();\n    let differenceInMilliseconds = zahtevDateTime.getTime() - currentDateTime.getTime();\n    let differenceInMinutes = differenceInMilliseconds / (1000 * 60);\n    return differenceInMinutes <= 15 && differenceInMinutes > 0;\n  }\n  iswithin4Hurs(date) {\n    let zahtevDateTime = new Date(date);\n    let currentDateTime = new Date();\n    let differenceInMilliseconds = zahtevDateTime.getTime() - currentDateTime.getTime();\n    let differenceInHours = differenceInMilliseconds / (1000 * 60 * 60);\n    return differenceInHours <= 4 && differenceInHours > 0;\n  }\n  static #_ = this.ɵfac = function NastavnikComponent_Factory(t) {\n    return new (t || NastavnikComponent)(i0.ɵɵdirectiveInject(i1.LoginservisService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NastavnikComponent,\n    selectors: [[\"app-nastavnik\"]],\n    decls: 20,\n    vars: 3,\n    consts: [[1, \"navbar\", \"navbar-dark-grey\"], [1, \"container\"], [1, \"navbar-right\"], [3, \"click\"], [4, \"ngIf\"], [1, \"footer-content\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-6\"], [1, \"card\", 2, \"width\", \"400px\"], [1, \"card-img-top\", 3, \"src\"], [1, \"icon-wrapper\"], [\"type\", \"file\", \"id\", \"profilna-input-file\", \"accept\", \"image/*\", 3, \"change\"], [\"fontIcon\", \"edit\", 1, \"icon\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [4, \"ngFor\", \"ngForOf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"surname\"], [\"type\", \"text\", \"id\", \"surname\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"adress\"], [\"type\", \"text\", \"id\", \"adress\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"telephone\"], [\"type\", \"tel\", \"id\", \"telephone\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"checked\", \"change\"], [1, \"checkbox-container\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"indented\"], [\"type\", \"checkbox\", \"name\", \"predmeti\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"value\", \"change\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"table\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"mr-2\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"text\", \"placeholder\", \"Zasto je odbijen...\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"btn btn-success\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-danger\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Zasto je otkazan...\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"colspan\", \"2\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\"], [\"type\", \"number\", \"placeholder\", \"Ocena...\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"OpcioniKomentar...\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function NastavnikComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"span\", 3);\n        i0.ɵɵlistener(\"click\", function NastavnikComponent_Template_span_click_3_listener() {\n          return ctx.changeWhere(1);\n        });\n        i0.ɵɵtext(4, \"Profil \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"span\", 3);\n        i0.ɵɵlistener(\"click\", function NastavnikComponent_Template_span_click_5_listener() {\n          return ctx.changeWhere(2);\n        });\n        i0.ɵɵtext(6, \"Casovi \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"span\", 3);\n        i0.ɵɵlistener(\"click\", function NastavnikComponent_Template_span_click_7_listener() {\n          return ctx.changeWhere(3);\n        });\n        i0.ɵɵtext(8, \"Moji ucenici \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"span\", 3);\n        i0.ɵɵlistener(\"click\", function NastavnikComponent_Template_span_click_9_listener() {\n          return ctx.LogOut();\n        });\n        i0.ɵɵtext(10, \"Log out\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(11, \"body\")(12, \"main\");\n        i0.ɵɵtemplate(13, NastavnikComponent_div_13_Template, 73, 17, \"div\", 4);\n        i0.ɵɵtemplate(14, NastavnikComponent_div_14_Template, 53, 4, \"div\", 4);\n        i0.ɵɵtemplate(15, NastavnikComponent_div_15_Template, 8, 1, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"footer\")(17, \"div\", 5)(18, \"p\");\n        i0.ɵɵtext(19, \"PIA Projekat\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.where === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.where === 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.where === 3);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel, i5.MatIcon, i3.DatePipe],\n    styles: [\"a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: #333; \\n\\n  margin-right: 10px; \\n\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  border-collapse: separate;\\n  border-spacing: 10px; \\n\\n}\\n\\ntd[_ngcontent-%COMP%] {\\n  padding: 10px; \\n\\n}\\n\\n.indented[_ngcontent-%COMP%] {\\n  padding-left: 20px; \\n\\n}\\n\\n\\nheader[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  padding: 10px;\\n}\\n\\nheader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\nheader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n\\n.navbar-dark-grey[_ngcontent-%COMP%] {\\n  background-color: #333; \\n\\n  padding: 10px; \\n\\n  color: white;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-start; \\n\\n  flex-direction: column; \\n\\n}\\n\\n.navbar-right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  margin-bottom: 10px; \\n\\n}\\n.checkbox-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.checkbox-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  flex: 1 0 20%; \\n\\n  margin-right: 20px; \\n\\n}\\n\\nfooter[_ngcontent-%COMP%] {\\n  background-color: #333;\\n  color: #fff;\\n  padding: 20px 0;\\n  text-align: center;\\n}\\n\\n.footer-content[_ngcontent-%COMP%] {\\n  max-width: 960px;\\n  margin: 0 auto;\\n}\\n\\nmain[_ngcontent-%COMP%] {\\n  flex: 1; \\n\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 100vh; \\n\\n  margin: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmFzdGF2bmlrL25hc3Rhdm5pay5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVyxFQUFFLGVBQWU7RUFDNUIsa0JBQWtCLEVBQUUscUJBQXFCO0FBQzNDOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLG9CQUFvQixFQUFFLHlEQUF5RDtBQUNqRjs7QUFFQTtFQUNFLGFBQWEsRUFBRSwwREFBMEQ7QUFDM0U7O0FBRUE7RUFDRSxrQkFBa0IsRUFBRSw4Q0FBOEM7QUFDcEU7OztBQUdBO0VBQ0UseUJBQXlCO0VBQ3pCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSwwQkFBMEI7QUFDNUI7OztBQUdBO0VBQ0Usc0JBQXNCLEVBQUUsK0JBQStCO0VBQ3ZELGFBQWEsRUFBRSw0QkFBNEI7RUFDM0MsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDJCQUEyQixFQUFFLCtCQUErQjtFQUM1RCxzQkFBc0IsRUFBRSw4QkFBOEI7QUFDeEQ7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsbUJBQW1CLEVBQUUsb0NBQW9DO0FBQzNEO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWEsRUFBRSx3REFBd0Q7RUFDdkUsa0JBQWtCLEVBQUUseUNBQXlDO0FBQy9EOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFdBQVc7RUFDWCxlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxPQUFPLEVBQUUseUNBQXlDO0FBQ3BEOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixpQkFBaUIsRUFBRSwyQ0FBMkM7RUFDOUQsU0FBUztBQUNYIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5hIHtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgY29sb3I6ICMzMzM7IC8qIExpbmsgY29sb3IgKi9cclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7IC8qIEFkanVzdCBhcyBuZWVkZWQgKi9cclxufVxyXG5cclxudGFibGUge1xyXG4gIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XHJcbiAgYm9yZGVyLXNwYWNpbmc6IDEwcHg7IC8qIEFkanVzdCB0aGlzIHZhbHVlIHRvIGNvbnRyb2wgdGhlIGdhcCBiZXR3ZWVuIGNvbHVtbnMgKi9cclxufVxyXG5cclxudGQge1xyXG4gIHBhZGRpbmc6IDEwcHg7IC8qIEFkanVzdCB0aGlzIHZhbHVlIHRvIGNvbnRyb2wgdGhlIGdhcCBpbnNpZGUgZWFjaCBjZWxsICovXHJcbn1cclxuXHJcbi5pbmRlbnRlZCB7XHJcbiAgcGFkZGluZy1sZWZ0OiAyMHB4OyAvKiBBZGp1c3QgdGhlIHZhbHVlIGJhc2VkIG9uIHlvdXIgcHJlZmVyZW5jZSAqL1xyXG59XHJcblxyXG5cclxuaGVhZGVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbmhlYWRlciBzcGFuIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbmhlYWRlciBzcGFuOmhvdmVyIHtcclxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuXHJcbi5uYXZiYXItZGFyay1ncmV5IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOyAvKiBEYXJrIGdyZXkgYmFja2dyb3VuZCBjb2xvciAqL1xyXG4gIHBhZGRpbmc6IDEwcHg7IC8qIEFkZCBwYWRkaW5nIGZvciBzcGFjaW5nICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgLyogQWxpZ24gZWxlbWVudHMgdG8gdGhlIGxlZnQgKi9cclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAvKiBTdGFjayBlbGVtZW50cyB2ZXJ0aWNhbGx5ICovXHJcbn1cclxuXHJcbi5uYXZiYXItcmlnaHQgc3BhbiB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7IC8qIEFkZCBzb21lIHNwYWNlIGJldHdlZW4gZWxlbWVudHMgKi9cclxufVxyXG4uY2hlY2tib3gtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLmNoZWNrYm94LWNvbnRhaW5lciBsYWJlbCB7XHJcbiAgZmxleDogMSAwIDIwJTsgLyogU2V0IGVhY2ggbGFiZWwgdG8gb2NjdXB5IDIwJSBvZiB0aGUgY29udGFpbmVyIHdpZHRoICovXHJcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4OyAvKiBBZGp1c3QgdGhlIG1hcmdpbiBiZXR3ZWVuIGNoZWNrYm94ZXMgKi9cclxufVxyXG5cclxuZm9vdGVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIHBhZGRpbmc6IDIwcHggMDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5mb290ZXItY29udGVudCB7XHJcbiAgbWF4LXdpZHRoOiA5NjBweDtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxubWFpbiB7XHJcbiAgZmxleDogMTsgLyogVGhpcyBwdXNoZXMgdGhlIGZvb3RlciB0byB0aGUgYm90dG9tICovXHJcbn1cclxuXHJcbmJvZHkge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBtaW4taGVpZ2h0OiAxMDB2aDsgLyogRW5zdXJlIGJvZHkgY292ZXJzIHRoZSBlbnRpcmUgdmlld3BvcnQgKi9cclxuICBtYXJnaW46IDA7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Nastavnik","Helper","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate","predmet_r6","razred_r7","ɵɵlistener","NastavnikComponent_div_13_label_70_Template_input_change_1_listener","restoredCtx","ɵɵrestoreView","_r10","predmet_r8","$implicit","ctx_r9","ɵɵnextContext","ɵɵresetView","toggleSelection","predmet","ɵɵproperty","ɵɵtextInterpolate1","ɵɵelement","NastavnikComponent_div_13_Template_input_change_8_listener","$event","_r12","ctx_r11","onImageSelected","ɵɵtemplate","NastavnikComponent_div_13_ng_container_21_Template","NastavnikComponent_div_13_ng_container_24_Template","NastavnikComponent_div_13_Template_a_click_26_listener","ctx_r13","openPdf","NastavnikComponent_div_13_Template_input_ngModelChange_35_listener","ctx_r14","edited","name","NastavnikComponent_div_13_Template_input_ngModelChange_39_listener","ctx_r15","surname","NastavnikComponent_div_13_Template_input_ngModelChange_43_listener","ctx_r16","adress","NastavnikComponent_div_13_Template_input_ngModelChange_47_listener","ctx_r17","email","NastavnikComponent_div_13_Template_input_ngModelChange_51_listener","ctx_r18","telephone","NastavnikComponent_div_13_Template_input_change_56_listener","ctx_r19","toggleAge","NastavnikComponent_div_13_Template_input_change_60_listener","ctx_r20","NastavnikComponent_div_13_Template_input_change_64_listener","ctx_r21","NastavnikComponent_div_13_label_70_Template","NastavnikComponent_div_13_Template_button_click_71_listener","ctx_r22","saveChanges","ctx_r0","imgRel","ɵɵsanitizeUrl","ɵɵtextInterpolate2","nastavnik","predmeti","razredi","selectedAges","includes","NastavnikComponent_div_14_ng_container_23_span_9_Template","NastavnikComponent_div_14_ng_container_23_Template_button_click_15_listener","_r30","zahtev_r27","ctx_r29","prihvatiCas","NastavnikComponent_div_14_ng_container_23_Template_button_click_18_listener","ctx_r31","odbijCas","NastavnikComponent_div_14_ng_container_23_Template_input_ngModelChange_21_listener","komentar","ucenikName","ucenikSurname","ɵɵpipeBind2","startDisplayTime","isduble","opis","avgOcena","NastavnikComponent_div_14_tbody_50_ng_container_1_button_10_Template_button_click_0_listener","_r40","zahtev_r34","ctx_r38","odrziCas","datumvreme","NastavnikComponent_div_14_tbody_50_ng_container_1_button_12_Template_button_click_0_listener","_r43","ctx_r41","otkazi","NastavnikComponent_div_14_tbody_50_ng_container_1_button_10_Template","NastavnikComponent_div_14_tbody_50_ng_container_1_button_12_Template","NastavnikComponent_div_14_tbody_50_ng_container_1_Template_input_ngModelChange_14_listener","_r45","ctx_r33","isWithinFifteenMinutes","iswithin4Hurs","NastavnikComponent_div_14_tbody_50_ng_container_1_Template","ctx_r24","casthree","slice","NastavnikComponent_div_14_tbody_51_ng_container_1_button_10_Template_button_click_0_listener","_r53","zahtev_r47","ctx_r51","NastavnikComponent_div_14_tbody_51_ng_container_1_button_12_Template_button_click_0_listener","_r56","ctx_r54","NastavnikComponent_div_14_tbody_51_ng_container_1_button_10_Template","NastavnikComponent_div_14_tbody_51_ng_container_1_button_12_Template","NastavnikComponent_div_14_tbody_51_ng_container_1_Template_input_ngModelChange_14_listener","_r58","ctx_r46","NastavnikComponent_div_14_tbody_51_ng_container_1_Template","ctx_r25","allCasovi","NastavnikComponent_div_14_tbody_52_ng_container_1_button_10_Template_button_click_0_listener","_r65","zahtev_r60","ctx_r63","NastavnikComponent_div_14_tbody_52_ng_container_1_button_12_Template_button_click_0_listener","_r68","ctx_r66","NastavnikComponent_div_14_tbody_52_ng_container_1_button_10_Template","NastavnikComponent_div_14_tbody_52_ng_container_1_button_12_Template","NastavnikComponent_div_14_tbody_52_ng_container_1_Template_input_ngModelChange_14_listener","_r70","ctx_r59","NastavnikComponent_div_14_tbody_52_ng_container_1_Template","ctx_r26","NastavnikComponent_div_14_ng_container_23_Template","NastavnikComponent_div_14_Template_button_click_28_listener","_r72","ctx_r71","changeDisplay","NastavnikComponent_div_14_Template_button_click_31_listener","ctx_r73","NastavnikComponent_div_14_Template_button_click_34_listener","ctx_r74","NastavnikComponent_div_14_tbody_50_Template","NastavnikComponent_div_14_tbody_51_Template","NastavnikComponent_div_14_tbody_52_Template","ctx_r1","casovizapotvrdu","displayCasovi","NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template_input_ngModelChange_3_listener","_r83","i_r80","index","ucenik_r76","casovi","ocena","NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template_input_ngModelChange_4_listener","NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template_button_click_6_listener","cas_r79","ctx_r86","updateCas","NastavnikComponent_div_15_ng_container_7_tr_7_span_5_Template","NastavnikComponent_div_15_ng_container_7_Template_button_click_5_listener","_r90","ctx_r89","getAll","NastavnikComponent_div_15_ng_container_7_tr_7_Template","fullname","toggle","NastavnikComponent_div_15_ng_container_7_Template","ctx_r2","helper","NastavnikComponent","constructor","servis","router","cdr","where","username","firstFiveElements","casovizaucenike","ucenici","ucenicinodupes","selectedPredmeti","backend","selectedFile","selectedPDF","imageUrl","pdfUrl","updatedpdfUrl","zaOpenPDF","mails","odbijenKomentar","ngOnInit","logged","localStorage","getItem","console","log","navigate","getpredmeti","subscribe","data","getAllNastavnik","nst","getAllUcenici","a","push","b","getnastavnik","profilePic","CV","getpotvrda","Date","endDisplayTime","datumvremekraj","setHours","getHours","getucenik","ucenik","casget","sum","num","cas","casGETALL","sort","dateA","dateB","filter","dt","getthree","getsvojeucenike","Array","from","Set","hlp","rez","alert","message","changeWhere","getdosije","length","emailRegex","test","regex","updatenastavnik","age","item","potvrdiCas","_id","cs","datum","hidden","LogOut","clear","p","window","open","event","target","files","fileReader","FileReader","onload","e","img","Image","src","result","width","height","uploadTest","then","updateSlikaNastavnik","readAsDataURL","onPdfSelected","size","uploadPDF","updateCV","Promise","resolve","reject","uploadPicture","filename","Error","dateTimeString","zahtevDateTime","currentDateTime","differenceInMilliseconds","getTime","differenceInMinutes","date","differenceInHours","_","ɵɵdirectiveInject","i1","LoginservisService","i2","Router","ChangeDetectorRef","_2","selectors","decls","vars","consts","template","NastavnikComponent_Template","rf","ctx","NastavnikComponent_Template_span_click_3_listener","NastavnikComponent_Template_span_click_5_listener","NastavnikComponent_Template_span_click_7_listener","NastavnikComponent_Template_span_click_9_listener","NastavnikComponent_div_13_Template","NastavnikComponent_div_14_Template","NastavnikComponent_div_15_Template"],"sources":["C:\\Users\\Teodor\\Desktop\\PIAPROJEKAT\\frontend\\src\\app\\nastavnik\\nastavnik.component.ts","C:\\Users\\Teodor\\Desktop\\PIAPROJEKAT\\frontend\\src\\app\\nastavnik\\nastavnik.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { LoginservisService } from '../servisi/loginservis.service';\nimport { Nastavnik } from '../models/nastavnik';\nimport { Cas } from '../models/cas';\nimport { Helper } from '../models/helper';\nimport { Router } from '@angular/router';\nimport { Predmet } from '../models/predmet';\nimport { ChangeDetectorRef } from '@angular/core';\n\n\n@Component({\n  selector: 'app-nastavnik',\n  templateUrl: './nastavnik.component.html',\n  styleUrls: ['./nastavnik.component.css']\n})\nexport class NastavnikComponent {\n  constructor(private servis : LoginservisService, private router : Router, private cdr: ChangeDetectorRef ) {}\n\n  where : number = 1\n  displayCasovi : number = 1\n  username : string = \"nastavnik3\"\n  nastavnik : Nastavnik = new Nastavnik()\n  edited : Nastavnik = new Nastavnik()\n  selectedAges: string[] = [];\n  casthree : Cas[] = []\n  firstFiveElements: Cas[] = []\n  casovizapotvrdu : Cas[] = []\n  casovizaucenike : Cas[] = []\n  ucenici : string[] = []\n  ucenicinodupes : string[] = []\n  helper : Helper[] = []\n  predmeti : Predmet[] = []\n  selectedPredmeti: string[] = []\n  backend: string = \"http://localhost:4000\"\n  imgRel: string = \"http://localhost:4000\"\n  selectedFile: File | null = null;\n  selectedPDF: File | null = null;\n  imageUrl : string = \"\"\n  pdfUrl : string = \"\"\n  updatedpdfUrl : string = \"\"\n  zaOpenPDF : string = \"\"\n  mails : string[] = []\n  allCasovi : Cas[] = []\n  odbijenKomentar : string = \"\"\n\n  ngOnInit(){\n    this.where = 1\n    this.username = \"nastavnik3\"\n    let logged = localStorage.getItem(\"nastavnik\")\n    if(!logged){\n      console.log(\"AM HERE\")\n\n      this.router.navigate(['login']);\n    }else{\n      this.username = logged\n    }\n    this.servis.getpredmeti(1).subscribe(data=>{\n      if(data)this.predmeti = data\n\n    })\n    this.servis.getAllNastavnik().subscribe(nst=>{\n      this.servis.getAllUcenici().subscribe(ucenici=>{\n        for(let a of ucenici){\n          this.mails.push(a.email)\n        }\n        for(let b of nst){\n          this.mails.push(b.email)\n        }\n      })\n    })\n    this.servis.getnastavnik(this.username).subscribe(nst=>{\n      this.nastavnik = nst\n      this.imgRel += nst.profilePic\n      this.zaOpenPDF = nst.CV\n      this.pdfUrl = this.backend + nst.CV\n\n    })\n    this.selectedAges = []\n    this.edited = new Nastavnik()\n    this.servis.getpotvrda(this.username).subscribe(casovi =>{\n      this.casovizapotvrdu = casovi\n\n\n      for(let a of this.casovizapotvrdu){\n        a.startDisplayTime = new Date(a.datumvreme)\n        a.endDisplayTime = new Date(a.datumvremekraj)\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n        a.endDisplayTime.setHours(a.endDisplayTime.getHours() - 1)\n        this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n          if(ucenik){\n            a.ucenikName = ucenik.name\n            a.ucenikSurname = ucenik.surname\n          }\n        })\n        if(a.endDisplayTime.getHours() - a.startDisplayTime.getHours() === 2){\n          a.isduble = 1\n        }\n        this.servis.casget(1,a.ucenik).subscribe(data=>{\n          if(data){\n            let sum = 0\n            let num = 0\n            for(let cas of data){\n              if(cas.ocena !== 0){\n                num++;\n                sum += cas.ocena\n              }\n            }\n            if(num >= 3){\n              a.avgOcena = sum/num\n            }\n          }\n        })\n      }\n    })\n    this.servis.casGETALL(this.username).subscribe(casovi=>{\n      this.allCasovi = casovi\n      this.allCasovi.sort((a, b) => {\n        const dateA = new Date(a.datumvreme);\n        const dateB = new Date(b.datumvreme);\n\n        if (dateA < dateB) return -1;\n        if (dateA > dateB) return 1;\n        return 0;\n      });\n      this.allCasovi = this.allCasovi.filter(dt => new Date(dt.datumvreme) >= new Date())\n      for(let a of this.allCasovi){\n\n        a.startDisplayTime = new Date(a.datumvreme)\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n\n        this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n          if(ucenik){\n            a.ucenikName = ucenik.name\n            a.ucenikSurname = ucenik.surname\n          }\n        })\n      }\n    })\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n      //this.casthree = this.casthree.filter(dt => new Date(dt.datumvreme) >= new Date())\n      for(let a of this.casthree){\n        a.startDisplayTime = new Date(a.datumvreme)\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n\n        this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n          if(ucenik){\n            a.ucenikName = ucenik.name\n            a.ucenikSurname = ucenik.surname\n          }\n        })\n      }\n\n\n    })\n    this.servis.getsvojeucenike(this.username).subscribe(casovi=>{\n      this.casovizaucenike = casovi\n      for (let cas of this.casovizaucenike){\n        this.ucenici.push(cas.ucenik)\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici))\n      for (let ucenik of this.ucenicinodupes){\n        let hlp = new Helper()\n        hlp.ucenik = ucenik\n        this.servis.getucenik(ucenik).subscribe(rez=>{\n          hlp.fullname = rez.name + \" \" + rez.surname\n        })\n\n\n        this.helper.push(hlp)\n      }\n\n    })\n\n\n\n\n\n  }\n\n  updateCas(cas : Cas){\n    if(cas.ocena>5 || cas.ocena < 0){\n      alert(\"Ocena moze biti od 1 do 5 \")\n      return\n    }\n    this.servis.updateCas(cas).subscribe(data=>{\n      console.log(data.message)\n    })\n    for(let a of this.helper){\n      if(a.ucenik === cas.ucenik){\n        for(let b of a.casovi){\n          if(cas.datumvreme === b.datumvreme){\n            b.ocena = cas.ocena\n            b.komentar = cas.komentar\n            return\n          }\n        }\n      }\n    }\n\n    //this.servis.getsvojeucenike(this.username).subscribe(casovi=>{\n      //this.casovizaucenike = casovi\n      //for (let cas of this.casovizaucenike){\n       // this.ucenici.push(cas.ucenik)\n      //}\n      //this.ucenicinodupes = Array.from(new Set(this.ucenici))\n      //this.helper = []\n      //for (let ucenik of this.ucenicinodupes){\n     //   let hlp = new Helper()\n    //    hlp.ucenik = ucenik\n\n\n      //  this.helper.push(hlp)\n     // }\n\n    //})\n  }\n  getAll(name : Helper){\n    if(name.toggle){\n      name.toggle = 0\n    }else{\n\n      name.toggle = 1\n    }\n\n  }\n\n\n  changeWhere(b : number){\n    this.where = b;\n    if(b == 3){\n      for(let hlp of this.helper){\n        this.servis.getdosije(hlp.ucenik,this.username).subscribe(casovi=>{\n          hlp.casovi = casovi\n          for(let a of hlp.casovi){\n            a.startDisplayTime = new Date(a.datumvreme)\n            a.endDisplayTime = new Date(a.datumvremekraj)\n            a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n            a.endDisplayTime.setHours(a.endDisplayTime.getHours() - 1)\n          }\n        })\n      }\n    }\n  }\n\n\n  changeDisplay(b : number){\n    this.displayCasovi = b;\n  }\n\n\n  saveChanges(){\n    if(this.selectedPredmeti.length === 0){\n      this.edited.predmeti = this.nastavnik.predmeti\n    }else{\n      this.edited.predmeti = this.selectedPredmeti\n    }\n    this.edited.username = this.nastavnik.username\n    if(this.edited.name  === \"\")this.edited.name = this.nastavnik.name\n    if(this.edited.surname  === \"\")this.edited.surname = this.nastavnik.surname\n    if(this.edited.adress  === \"\")this.edited.adress = this.nastavnik.adress\n    if(this.edited.email  === \"\"){this.edited.email = this.nastavnik.email}else{\n      const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n      if (!emailRegex.test(this.edited.email)) {\n        alert(\"Format mail-a je los\");\n        this.edited = new Nastavnik()\n        return;\n      }\n      if(this.mails.includes(this.edited.email)){\n        alert(\"Mail je vec u upotrebi\")\n        this.edited = new Nastavnik()\n        return\n      }\n    }\n    if(this.edited.telephone  === \"\"){this.edited.telephone = this.nastavnik.telephone}else{\n      const regex = /^[0-9]+$/\n      if(!regex.test(this.edited.telephone)){\n          alert(\"Telefon moraju biti brojevi\");\n          this.edited = new Nastavnik()\n          return;\n      }\n    }\n    if(this.selectedAges.length === 0){\n      this.edited.razredi = this.nastavnik.razredi\n    }else{\n      this.edited.razredi = this.selectedAges\n    }\n    this.servis.updatenastavnik(this.edited).subscribe(data=>{\n      if(data.message ===  \"uspesnoupdated\"){\n        this.nastavnik.name = this.edited.name\n        this.nastavnik.surname = this.edited.surname\n        this.nastavnik.adress = this.edited.adress\n        this.nastavnik.email = this.edited.email\n        this.nastavnik.telephone = this.edited.telephone\n        this.nastavnik.predmeti = this.edited.predmeti\n        this.nastavnik.razredi = this.edited.razredi\n        this.edited = new Nastavnik()\n        this.mails = []\n        this.servis.getAllNastavnik().subscribe(nst=>{\n          this.servis.getAllUcenici().subscribe(ucenici=>{\n            for(let a of ucenici){\n              this.mails.push(a.email)\n            }\n            for(let b of nst){\n              this.mails.push(b.email)\n            }\n          })\n        })\n      }\n    })\n    //this.servis.getnastavnik(this.username).subscribe(nst=>{\n    //  this.nastavnik = nst\n    //})\n    //this.ngOnInit()\n\n  }\n\n  toggleAge(age: string) {\n    if (this.selectedAges.includes(age)) {\n\n      this.selectedAges = this.selectedAges.filter(item => item !== age);\n    } else {\n      // Dodaj uzrast ako ne postoji u nizu\n      this.selectedAges.push(age);\n    }\n\n\n  }\n\n\n  prihvatiCas(cas : Cas){\n    this.servis.potvrdiCas(cas.datumvreme,this.username,1,cas._id).subscribe(data =>{\n\n    })\n\n\n\n\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n      this.casovizapotvrdu = this.casovizapotvrdu.filter(cs => cs._id !== cas._id);\n      for(let a of this.casthree){\n        a.startDisplayTime = new Date(a.datumvreme)\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n        this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n          if(ucenik){\n            a.ucenikName = ucenik.name\n            a.ucenikSurname = ucenik.surname\n          }\n        })\n      }\n      this.servis.casGETALL(this.username).subscribe(casovi=>{\n        this.allCasovi = casovi\n        this.allCasovi.sort((a, b) => {\n          const dateA = new Date(a.datumvreme);\n          const dateB = new Date(b.datumvreme);\n\n          if (dateA < dateB) return -1;\n          if (dateA > dateB) return 1;\n          return 0;\n        });\n        this.allCasovi = this.allCasovi.filter(dt => new Date(dt.datumvreme) >= new Date())\n        for(let a of this.allCasovi){\n          a.startDisplayTime = new Date(a.datumvreme)\n          a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n          this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n            if(ucenik){\n              a.ucenikName = ucenik.name\n              a.ucenikSurname = ucenik.surname\n            }\n          })\n        }\n      })\n\n\n    })\n\n\n\n\n  }\n\n  odbijCas(cas : Cas){\n    if(cas.komentar === \"\"){\n      alert(\"Morate reci zasto ste odbili cas\")\n      return\n    }\n    this.servis.potvrdiCas(cas.datumvreme,this.username,2,cas._id).subscribe(data =>{\n\n    })\n    this.servis.updateCas(cas).subscribe(data=>{\n\n    })\n    this.casovizapotvrdu = this.casovizapotvrdu.filter(cs => cs._id !== cas._id);\n    // this.servis.getpotvrda(this.username).subscribe(casovi =>{\n    //   this.casovizapotvrdu = casovi\n    //   for(let a of this.casovizapotvrdu){\n    //     this.servis.casget(1,a.ucenik).subscribe(data=>{\n    //       if(data){\n    //         let sum = 0\n    //         let num = 0\n    //         for(let cas of data){\n    //           if(cas.ocena !== 0){\n    //             num++;\n    //             sum += cas.ocena\n    //           }\n    //         }\n    //         if(num >= 3){\n    //           a.avgOcena = sum/num\n    //         }\n    //       }\n    //     })\n    //   }\n    // })\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n      for(let a of this.casthree){\n        a.startDisplayTime = new Date(a.datumvreme)\n        a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n        this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n          if(ucenik){\n            a.ucenikName = ucenik.name\n            a.ucenikSurname = ucenik.surname\n          }\n        })\n      }\n      this.servis.casGETALL(this.username).subscribe(casovi=>{\n        this.allCasovi = casovi\n        this.allCasovi.sort((a, b) => {\n          const dateA = new Date(a.datumvreme);\n          const dateB = new Date(b.datumvreme);\n\n          if (dateA < dateB) return -1;\n          if (dateA > dateB) return 1;\n          return 0;\n        });\n        this.allCasovi = this.allCasovi.filter(dt => new Date(dt.datumvreme) >= new Date())\n        for(let a of this.allCasovi){\n          a.startDisplayTime = new Date(a.datumvreme)\n          a.startDisplayTime.setHours(a.startDisplayTime.getHours() - 1)\n          this.servis.getucenik(a.ucenik).subscribe(ucenik=>{\n            if(ucenik){\n              a.ucenikName = ucenik.name\n              a.ucenikSurname = ucenik.surname\n            }\n          })\n        }\n      })\n\n    })\n\n  }\n\n  odrziCas(datum : Date, cas : Cas){\n    cas.hidden = 0\n    this.servis.odrziCas(datum,this.username,1).subscribe(data =>{\n\n    })\n    //this.servis.getpotvrda(this.username).subscribe(casovi =>{\n    //  this.casovizapotvrdu = casovi\n    //})\n\n    this.servis.getsvojeucenike(this.username).subscribe(casovi=>{\n      this.casovizaucenike = casovi\n      for (let cas of this.casovizaucenike){\n        this.ucenici.push(cas.ucenik)\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici))\n      this.helper = []\n      for (let ucenik of this.ucenicinodupes){\n        let hlp = new Helper()\n        hlp.ucenik = ucenik\n        this.servis.getucenik(ucenik).subscribe(rez=>{\n          hlp.fullname = rez.name + \" \" + rez.surname\n        })\n\n        this.helper.push(hlp)\n      }\n\n    })\n    this.casthree = this.casthree.filter(dt => dt._id !== cas._id)\n    this.allCasovi = this.allCasovi.filter(dt => dt._id !== cas._id)\n    //this.servis.getthree(this.username).subscribe(casovi =>{\n    //  this.casthree = casovi\n\n    //})\n\n  }\n\n\n  otkazi(datum : Date, cas : Cas){\n    cas.hidden = 0\n    if(cas.komentar === \"\"){\n      alert(\"Obrazlozenje zasto je otkazan\")\n      return\n    }\n    this.servis.odrziCas(datum,this.username,2).subscribe(data =>{\n\n    })\n    //this.servis.getpotvrda(this.username).subscribe(casovi =>{\n    //  this.casovizapotvrdu = casovi\n    //})\n    this.servis.updateCas(cas).subscribe(data=>{\n\n    })\n\n    this.servis.getsvojeucenike(this.username).subscribe(casovi=>{\n      this.casovizaucenike = casovi\n      for (let cas of this.casovizaucenike){\n        this.ucenici.push(cas.ucenik)\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici))\n      this.helper = []\n      for (let ucenik of this.ucenicinodupes){\n        let hlp = new Helper()\n        hlp.ucenik = ucenik\n        this.servis.getucenik(ucenik).subscribe(rez=>{\n          hlp.fullname = rez.name + \" \" + rez.surname\n        })\n\n\n        this.helper.push(hlp)\n      }\n\n    })\n    this.casthree = this.casthree.filter(dt => dt._id !== cas._id)\n    this.allCasovi = this.allCasovi.filter(dt => dt._id !== cas._id)\n    //this.servis.getthree(this.username).subscribe(casovi =>{\n    //  this.casthree = casovi\n\n    //})\n\n  }\n\n  LogOut(){\n    localStorage.clear()\n    this.router.navigate([''])\n  }\n\n  toggleSelection(predmet: string) {\n    if (this.selectedPredmeti.includes(predmet)) {\n      this.selectedPredmeti = this.selectedPredmeti.filter(p => p !== predmet);\n    } else {\n      this.selectedPredmeti.push(predmet);\n    }\n  }\n\n  openPdf() {\n    if (this.pdfUrl) {\n      console.log(this.pdfUrl)\n      window.open(this.pdfUrl, '_blank');\n    }\n  }\n\n  onImageSelected(event: any): void {\n    this.selectedFile = event.target.files[0];\n    const fileReader = new FileReader();\n    if (! this.selectedFile) {\n      // If no file is selected (file input field is empty), set showPic to 0\n      this.selectedFile = null; // Clear the selected file\n      return;\n    }\n    fileReader.onload = (e) => {\n      const img = new Image();\n      img.src = fileReader.result as string;\n      img.onload = () => {\n        const width = img.width;\n        const height = img.height;\n        if (width >= 100 && width <= 300 && height >= 100 && height <= 300) {\n          console.log(\"Image dimensions are valid:\", width, \"x\", height);\n          this.uploadTest().then(()=>{\n            this.imgRel = this.backend + this.imageUrl\n            this.edited.profilePic = this.imageUrl\n            this.servis.updateSlikaNastavnik(this.nastavnik.username,this.imageUrl).subscribe(rez=>{\n\n            })\n          })\n\n        } else {\n          alert(\"Image dimensions are invalid:\" + width + \"x\" + height)\n          console.log(\"Image dimensions are invalid:\", width, \"x\", height);\n          this.selectedFile = null; // Clear the selected file\n          return\n\n        }\n      };\n    };\n\n    fileReader.readAsDataURL(this.selectedFile!);\n\n\n  }\n\n  onPdfSelected(event: any): void {\n    this.selectedPDF = event.target.files[0];\n    if (!this.selectedPDF) {\n      // If no file is selected (file input field is empty), reset selectedPDF and return\n      this.selectedPDF = null;\n      return;\n    }\n    if (this.selectedPDF.size > 3 * 1024 * 1024) {\n      this.selectedPDF = null;\n      alert(\"CV ne sme imati vise od 3MB\");\n      return;\n    }\n    this.uploadPDF().then(()=>{\n      this.servis.updateCV(this.nastavnik.username,this.updatedpdfUrl).subscribe(rez=>{\n\n      })\n      this.zaOpenPDF = this.updatedpdfUrl\n      this.pdfUrl = this.backend + this.updatedpdfUrl\n    })\n\n\n\n  }\n\n\n  uploadTest(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedFile!).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.imageUrl = data.filename;\n\n          resolve();\n        } else {\n          reject(new Error('Upload failed'));\n        }\n      });\n    });\n  }\n\n\n  uploadPDF(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedPDF!).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.updatedpdfUrl = data.filename;\n          console.log(this.updatedpdfUrl);\n\n          resolve();\n        } else {\n          reject(new Error('Upload failed'));\n        }\n      });\n    });\n  }\n\n\n  isWithinFifteenMinutes(dateTimeString: Date): boolean {\n    let zahtevDateTime = new Date(dateTimeString);\n    let currentDateTime = new Date();\n    let differenceInMilliseconds = zahtevDateTime.getTime() - currentDateTime.getTime();\n    let differenceInMinutes = differenceInMilliseconds / (1000 * 60);\n    return differenceInMinutes <= 15 && differenceInMinutes > 0;\n  }\n\n  iswithin4Hurs(date : Date): boolean {\n    let zahtevDateTime = new Date(date);\n    let currentDateTime = new Date();\n    let differenceInMilliseconds = zahtevDateTime.getTime() - currentDateTime.getTime();\n    let differenceInHours = differenceInMilliseconds / (1000 * 60 * 60);\n    return differenceInHours <= 4 && differenceInHours > 0;\n  }\n\n\n\n\n\n\n}\n\n\n//<div class=\"icon-wrapper\">\n//                      CV:\n//                      <input class=\"btn-outline-dark \" type=\"file\" (change)=\"onPdfSelected($event)\" accept=\".pdf\" />\n//                      <mat-icon class=\"icon\" fontIcon=\"edit\"></mat-icon>\n//                    </div>\n","<header class=\"navbar navbar-dark-grey\">\n  <div class=\"container\">\n    <div class=\"navbar-right\">\n      <span (click)=\"changeWhere(1)\">Profil  </span>\n      <span (click)=\"changeWhere(2)\">Casovi  </span>\n      <span (click)=\"changeWhere(3)\">Moji ucenici  </span>\n      <span (click)=\"LogOut()\">Log out</span>\n    </div>\n  </div>\n\n</header>\n\n\n\n<body>\n\n\n  <main>\n    <div *ngIf=\"where === 1\">\n      <div class=\"container\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-md-6\">\n                <div class=\"card\" style = \"width:400px\">\n                    <img class=\"card-img-top\" [src]=\"imgRel\" >\n                    <div class=\"icon-wrapper\">\n                      PFP:\n                      <input type=\"file\" id=\"profilna-input-file\" accept=\"image/*\"\n                      (change)=\"onImageSelected($event)\" />\n                      <mat-icon class=\"icon\" fontIcon=\"edit\"></mat-icon>\n                    </div>\n\n                    <div class=\"card-body\">\n                        <h4 class=\"card-title\">{{ nastavnik.name }} {{ nastavnik.surname }}</h4>\n                        <p class=\"card-text\">Adresa:{{ nastavnik.adress }}</p>\n                        <p class=\"card-text\">Email:{{ nastavnik.email }}</p>\n                        <p class=\"card-text\">Telefon:{{ nastavnik.telephone }}</p>\n                        <p class=\"card-text\">Predmeti:\n                            <ng-container *ngFor=\"let predmet of nastavnik.predmeti\">\n                                <div class=\"indented\">{{ predmet }}</div>\n                            </ng-container>\n                        </p>\n                        <p class=\"card-text\">Razredi:\n                            <ng-container *ngFor=\"let razred of nastavnik.razredi\">\n                                <div class=\"indented\">{{ razred }}</div>\n                            </ng-container>\n                        </p>\n                        <p class=\"card-text\">\n                            <a (click)=\"openPdf()\" style=\"cursor: pointer;\">\n                                <mat-icon>description</mat-icon>\n                                Moj CV\n                            </a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n      <hr>\n      <h3>Uredi Profil</h3>\n      <label for=\"name\">Ime:</label>\n      <input class = \"btn-outline-dark rounded-pill\" type=\"text\" id=\"name\" [(ngModel)]=\"edited.name\" >\n      <br/>\n\n      <label for=\"surname\">Prezime:</label>\n      <input class = \"btn-outline-dark rounded-pill\" type=\"text\" id=\"surname\" [(ngModel)]=\"edited.surname\" >\n      <br/>\n\n      <label for=\"adress\">Adresa:</label>\n      <input class = \"btn-outline-dark rounded-pill\" type=\"text\" id=\"adress\" [(ngModel)]=\"edited.adress\" >\n      <br/>\n\n      <label for=\"email\">Email:</label>\n      <input class = \"btn-outline-dark rounded-pill\" type=\"email\" id=\"email\" [(ngModel)]=\"edited.email\" >\n      <br/>\n\n      <label for=\"telephone\">Telefon:</label>\n      <input class = \"btn-outline-dark rounded-pill\" type=\"tel\" id=\"telephone\" [(ngModel)]=\"edited.telephone\" >\n      <br/>\n      <p>Razredi(izaberite sve razrede kojima biste predavali):</p>\n      <label>\n        <input class = \"btn-outline-dark rounded-pill\" type=\"checkbox\" [checked]=\"selectedAges.includes('osnovna1-4')\" (change)=\"toggleAge('osnovna1-4')\">\n        Osnovna škola 1-4. razred\n      </label>\n      <br/>\n      <label>\n        <input class = \"btn-outline-dark rounded-pill\" type=\"checkbox\" [checked]=\"selectedAges.includes('osnovna5-8')\" (change)=\"toggleAge('osnovna5-8')\">\n        Osnovna škola 5-8. razred\n      </label>\n      <br/>\n      <label>\n        <input class = \"btn-outline-dark rounded-pill\" type=\"checkbox\" [checked]=\"selectedAges.includes('srednja')\" (change)=\"toggleAge('srednja')\">\n        Srednja škola\n      </label>\n      <br/>\n      Koje predmete bi predavali?(izaberite sve predmete koje bi predavali)\n      <br/>\n      <div class=\"checkbox-container\">\n        <label *ngFor=\"let predmet of predmeti\">\n          <input class=\"btn-outline-dark rounded-pill\" type=\"checkbox\" name=\"predmeti\" [value]=\"predmet.predmet\" (change)=\"toggleSelection(predmet.predmet)\">\n          {{ predmet.predmet }}\n        </label>\n      </div>\n\n\n      <button class=\"btn btn-primary\" type=\"button\" (click)=\"saveChanges()\">Sačuvaj</button>\n\n\n    </div>\n    <div *ngIf=\"where === 2\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <h3>Tabela zahteva</h3>\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th>Učenik</th>\n                <th>Predmet</th>\n                <th>Opis</th>\n                <th>Datum</th>\n                <th>Prosecna ocena</th>\n                <th>Prihvati</th>\n                <th>Odbij</th>\n              </tr>\n            </thead>\n            <tbody>\n              <ng-container *ngFor=\"let zahtev of casovizapotvrdu\">\n                <tr>\n                  <td>{{ zahtev.ucenikName }} {{ zahtev.ucenikSurname }}</td>\n                  <td>{{ zahtev.predmet }}</td>\n                  <td>{{ zahtev.startDisplayTime | date: 'MM-dd-yyyy HH:mm' }}<span *ngIf = \"zahtev.isduble === 1\">(dupli cas)</span></td>\n                  <td>{{ zahtev.opis }}</td>\n                  <td>{{ zahtev.avgOcena }}</td>\n                  <td>\n                    <button class=\"btn btn-success\" type=\"button\" (click)=\"prihvatiCas(zahtev)\">Prihvati</button>\n                  </td>\n                  <td>\n                    <button class=\"btn btn-danger\" type=\"button\" (click)=\"odbijCas(zahtev)\">Odbij</button>&nbsp;\n                    <input class = \"btn-outline-dark rounded-pill\"  type=\"text\" [(ngModel)]=\"zahtev.komentar\" placeholder = \"Zasto je odbijen...\">\n                  </td>\n                </tr>\n              </ng-container>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <h3>Narednih 5 časova</h3>\n          <button class=\"btn btn-info  mr-2\" type=\"button\" (click)=\"changeDisplay(1)\">5 casova u 3 dana</button>&nbsp;\n          <button class=\"btn btn-info  mr-2\" type=\"button\" (click)=\"changeDisplay(2)\">10 casova</button>&nbsp;\n          <button class=\"btn btn-info \" type=\"button\" (click)=\"changeDisplay(3)\">Svi casovi </button>&nbsp;\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th>Datum</th>\n                <th>Predmet</th>\n                <th>Učenik</th>\n                <th>Udji</th>\n                <th>Otkazi</th>\n              </tr>\n            </thead>\n            <tbody *ngIf=\"displayCasovi === 1\">\n              <ng-container *ngFor=\"let zahtev of casthree.slice(0, 5); let i = index\" >\n                <tr >\n                  <td>{{ zahtev.startDisplayTime | date: 'MM-dd-yyyy HH:mm' }}</td>\n                  <td>{{ zahtev.predmet }}</td>\n                  <td>{{ zahtev.ucenikName }} {{ zahtev.ucenikSurname }}</td>\n                  <td>\n                    <button *ngIf=\"isWithinFifteenMinutes(zahtev.startDisplayTime)\" class=\"btn btn-success\" type=\"button\" (click)=\"odrziCas(zahtev.datumvreme,zahtev)\">Odrzi Cas</button>\n                  </td>\n                  <td>\n                    <button *ngIf=\"!iswithin4Hurs(zahtev.startDisplayTime)\" class=\"btn btn-danger\" type=\"button\" (click)=\"otkazi(zahtev.datumvreme,zahtev)\">Otkazi</button>&nbsp;\n                    <input class = \"btn-outline-dark rounded-pill\"  type=\"text\" [(ngModel)]=\"zahtev.komentar\" placeholder = \"Zasto je otkazan...\">\n                  </td>\n                </tr>\n              </ng-container>\n            </tbody>\n            <tbody *ngIf=\"displayCasovi === 2\">\n              <ng-container *ngFor=\"let zahtev of allCasovi.slice(0, 10); let i = index\">\n                <tr>\n                  <td>{{ zahtev.startDisplayTime | date: 'MM-dd-yyyy HH:mm' }}</td>\n                  <td>{{ zahtev.predmet }}</td>\n                  <td>{{ zahtev.ucenikName }} {{ zahtev.ucenikSurname }}</td>\n                  <td>\n                    <button *ngIf=\"isWithinFifteenMinutes(zahtev.startDisplayTime)\" class=\"btn btn-success\" type=\"button\" (click)=\"odrziCas(zahtev.datumvreme,zahtev)\">Odrzi Cas</button>\n                  </td>\n                  <td>\n                    <button *ngIf=\"!iswithin4Hurs(zahtev.startDisplayTime)\" class=\"btn btn-danger\" type=\"button\" (click)=\"otkazi(zahtev.datumvreme,zahtev)\">Otkazi</button>&nbsp;\n                    <input class = \"btn-outline-dark rounded-pill\"  type=\"text\" [(ngModel)]=\"zahtev.komentar\" placeholder = \"Zasto je otkazan...\">\n                  </td>\n                </tr>\n              </ng-container>\n            </tbody>\n            <tbody *ngIf=\"displayCasovi === 3\">\n              <ng-container *ngFor=\"let zahtev of allCasovi\">\n                <tr>\n                  <td>{{zahtev.startDisplayTime | date: 'MM-dd-yyyy HH:mm' }}</td>\n                  <td>{{ zahtev.predmet }}</td>\n                  <td>{{ zahtev.ucenikName }} {{ zahtev.ucenikSurname }}</td>\n                  <td>\n                    <button *ngIf=\"isWithinFifteenMinutes(zahtev.startDisplayTime)\" class=\"btn btn-success\" type=\"button\" (click)=\"odrziCas(zahtev.datumvreme,zahtev)\">Odrzi Cas</button>\n                  </td>\n                  <td>\n                    <button *ngIf=\"!iswithin4Hurs(zahtev.startDisplayTime)\" class=\"btn btn-danger\" type=\"button\" (click)=\"otkazi(zahtev.datumvreme,zahtev)\">Otkazi</button>&nbsp;\n                    <input class = \"btn-outline-dark rounded-pill\"  type=\"text\" [(ngModel)]=\"zahtev.komentar\" placeholder = \"Zasto je otkazan...\">\n                  </td>\n\n                </tr>\n              </ng-container>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"where === 3\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <h3>Moji Učenici</h3>\n          <table class=\"table\">\n            <tbody>\n              <ng-container *ngFor=\"let ucenik of helper\">\n                <tr>\n                  <td>{{ ucenik.fullname }}</td>\n                  <td>\n                    <button class=\"btn btn-info\" type=\"button\" (click)=\"getAll(ucenik)\">Dosije Toggle</button>\n                  </td>\n                </tr>\n                <tr *ngIf=\"ucenik.toggle\">\n                  <td colspan=\"2\">\n                    <h4>Dosije</h4>\n                    <div class=\"list-group\">\n                      <span *ngFor=\"let cas of ucenik.casovi; let i=index\" class=\"list-group-item\">\n                        {{ cas.predmet }} - {{ cas.startDisplayTime | date: 'MM-dd-yyyy HH:mm' }}\n                        <input class = \"btn-outline-dark rounded-pill\"  type=\"number\"  [(ngModel)]=\"ucenik.casovi[i].ocena\" placeholder = \"Ocena...\">\n                        <input class = \"btn-outline-dark rounded-pill\"  type=\"text\" [(ngModel)]=\"ucenik.casovi[i].komentar\" placeholder = \"OpcioniKomentar...\">&nbsp;\n                        <button class=\"btn btn-primary\" type=\"button\" (click)=\"updateCas(cas)\">Ostavi ocenu/komentar</button>\n                      </span>\n                    </div>\n                  </td>\n                </tr>\n              </ng-container>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </main>\n  <footer>\n    <div class=\"footer-content\">\n      <p>PIA Projekat</p>\n    </div>\n  </footer>\n</body>\n\n\n"],"mappings":"AAEA,SAASA,SAAS,QAAQ,qBAAqB;AAE/C,SAASC,MAAM,QAAQ,kBAAkB;;;;;;;;;ICiCbC,EAAA,CAAAC,uBAAA,GAAyD;IACrDD,EAAA,CAAAE,cAAA,cAAsB;IAAAF,EAAA,CAAAG,MAAA,GAAa;IAAAH,EAAA,CAAAI,YAAA,EAAM;IAC7CJ,EAAA,CAAAK,qBAAA,EAAe;;;;IADWL,EAAA,CAAAM,SAAA,GAAa;IAAbN,EAAA,CAAAO,iBAAA,CAAAC,UAAA,CAAa;;;;;IAIvCR,EAAA,CAAAC,uBAAA,GAAuD;IACnDD,EAAA,CAAAE,cAAA,cAAsB;IAAAF,EAAA,CAAAG,MAAA,GAAY;IAAAH,EAAA,CAAAI,YAAA,EAAM;IAC5CJ,EAAA,CAAAK,qBAAA,EAAe;;;;IADWL,EAAA,CAAAM,SAAA,GAAY;IAAZN,EAAA,CAAAO,iBAAA,CAAAE,SAAA,CAAY;;;;;;IAuD1DT,EAAA,CAAAE,cAAA,YAAwC;IACiEF,EAAA,CAAAU,UAAA,oBAAAC,oEAAA;MAAA,MAAAC,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAAC,IAAA;MAAA,MAAAC,UAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAjB,EAAA,CAAAkB,aAAA;MAAA,OAAUlB,EAAA,CAAAmB,WAAA,CAAAF,MAAA,CAAAG,eAAA,CAAAL,UAAA,CAAAM,OAAA,CAAgC;IAAA,EAAC;IAAlJrB,EAAA,CAAAI,YAAA,EAAmJ;IACnJJ,EAAA,CAAAG,MAAA,GACF;IAAAH,EAAA,CAAAI,YAAA,EAAQ;;;;IAFuEJ,EAAA,CAAAM,SAAA,GAAyB;IAAzBN,EAAA,CAAAsB,UAAA,UAAAP,UAAA,CAAAM,OAAA,CAAyB;IACtGrB,EAAA,CAAAM,SAAA,GACF;IADEN,EAAA,CAAAuB,kBAAA,MAAAR,UAAA,CAAAM,OAAA,MACF;;;;;;IAnFJrB,EAAA,CAAAE,cAAA,UAAyB;IAKTF,EAAA,CAAAwB,SAAA,aAA0C;IAC1CxB,EAAA,CAAAE,cAAA,cAA0B;IACxBF,EAAA,CAAAG,MAAA,aACA;IAAAH,EAAA,CAAAE,cAAA,gBACqC;IAArCF,EAAA,CAAAU,UAAA,oBAAAe,2DAAAC,MAAA;MAAA1B,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAC,OAAA,GAAA5B,EAAA,CAAAkB,aAAA;MAAA,OAAUlB,EAAA,CAAAmB,WAAA,CAAAS,OAAA,CAAAC,eAAA,CAAAH,MAAA,CAAuB;IAAA,EAAC;IADlC1B,EAAA,CAAAI,YAAA,EACqC;IACrCJ,EAAA,CAAAwB,SAAA,mBAAkD;IACpDxB,EAAA,CAAAI,YAAA,EAAM;IAENJ,EAAA,CAAAE,cAAA,eAAuB;IACIF,EAAA,CAAAG,MAAA,IAA4C;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACxEJ,EAAA,CAAAE,cAAA,aAAqB;IAAAF,EAAA,CAAAG,MAAA,IAA6B;IAAAH,EAAA,CAAAI,YAAA,EAAI;IACtDJ,EAAA,CAAAE,cAAA,aAAqB;IAAAF,EAAA,CAAAG,MAAA,IAA2B;IAAAH,EAAA,CAAAI,YAAA,EAAI;IACpDJ,EAAA,CAAAE,cAAA,aAAqB;IAAAF,EAAA,CAAAG,MAAA,IAAiC;IAAAH,EAAA,CAAAI,YAAA,EAAI;IAC1DJ,EAAA,CAAAE,cAAA,aAAqB;IAAAF,EAAA,CAAAG,MAAA,kBACjB;IAAAH,EAAA,CAAA8B,UAAA,KAAAC,kDAAA,2BAEe;IACnB/B,EAAA,CAAAI,YAAA,EAAI;IACJJ,EAAA,CAAAE,cAAA,aAAqB;IAAAF,EAAA,CAAAG,MAAA,iBACjB;IAAAH,EAAA,CAAA8B,UAAA,KAAAE,kDAAA,2BAEe;IACnBhC,EAAA,CAAAI,YAAA,EAAI;IACJJ,EAAA,CAAAE,cAAA,aAAqB;IACdF,EAAA,CAAAU,UAAA,mBAAAuB,uDAAA;MAAAjC,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAO,OAAA,GAAAlC,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAe,OAAA,CAAAC,OAAA,EAAS;IAAA,EAAC;IAClBnC,EAAA,CAAAE,cAAA,gBAAU;IAAAF,EAAA,CAAAG,MAAA,mBAAW;IAAAH,EAAA,CAAAI,YAAA,EAAW;IAChCJ,EAAA,CAAAG,MAAA,gBACJ;IAAAH,EAAA,CAAAI,YAAA,EAAI;IAQ1BJ,EAAA,CAAAwB,SAAA,UAAI;IACJxB,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,oBAAY;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACrBJ,EAAA,CAAAE,cAAA,iBAAkB;IAAAF,EAAA,CAAAG,MAAA,YAAI;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IAC9BJ,EAAA,CAAAE,cAAA,iBAAgG;IAA3BF,EAAA,CAAAU,UAAA,2BAAA0B,mEAAAV,MAAA;MAAA1B,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAU,OAAA,GAAArC,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAAkB,OAAA,CAAAC,MAAA,CAAAC,IAAA,GAAAb,MAAA,CACpF;IAAA,EADgG;IAA9F1B,EAAA,CAAAI,YAAA,EAAgG;IAChGJ,EAAA,CAAAwB,SAAA,UAAK;IAELxB,EAAA,CAAAE,cAAA,iBAAqB;IAAAF,EAAA,CAAAG,MAAA,gBAAQ;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACrCJ,EAAA,CAAAE,cAAA,iBAAsG;IAA9BF,EAAA,CAAAU,UAAA,2BAAA8B,mEAAAd,MAAA;MAAA1B,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAc,OAAA,GAAAzC,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAAsB,OAAA,CAAAH,MAAA,CAAAI,OAAA,GAAAhB,MAAA,CACvF;IAAA,EADsG;IAApG1B,EAAA,CAAAI,YAAA,EAAsG;IACtGJ,EAAA,CAAAwB,SAAA,UAAK;IAELxB,EAAA,CAAAE,cAAA,iBAAoB;IAAAF,EAAA,CAAAG,MAAA,eAAO;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACnCJ,EAAA,CAAAE,cAAA,iBAAoG;IAA7BF,EAAA,CAAAU,UAAA,2BAAAiC,mEAAAjB,MAAA;MAAA1B,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAiB,OAAA,GAAA5C,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAAyB,OAAA,CAAAN,MAAA,CAAAO,MAAA,GAAAnB,MAAA,CACtF;IAAA,EADoG;IAAlG1B,EAAA,CAAAI,YAAA,EAAoG;IACpGJ,EAAA,CAAAwB,SAAA,UAAK;IAELxB,EAAA,CAAAE,cAAA,iBAAmB;IAAAF,EAAA,CAAAG,MAAA,cAAM;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACjCJ,EAAA,CAAAE,cAAA,iBAAmG;IAA5BF,EAAA,CAAAU,UAAA,2BAAAoC,mEAAApB,MAAA;MAAA1B,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAoB,OAAA,GAAA/C,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAA4B,OAAA,CAAAT,MAAA,CAAAU,KAAA,GAAAtB,MAAA,CACtF;IAAA,EADmG;IAAjG1B,EAAA,CAAAI,YAAA,EAAmG;IACnGJ,EAAA,CAAAwB,SAAA,UAAK;IAELxB,EAAA,CAAAE,cAAA,iBAAuB;IAAAF,EAAA,CAAAG,MAAA,gBAAQ;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACvCJ,EAAA,CAAAE,cAAA,iBAAyG;IAAhCF,EAAA,CAAAU,UAAA,2BAAAuC,mEAAAvB,MAAA;MAAA1B,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAuB,OAAA,GAAAlD,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAA+B,OAAA,CAAAZ,MAAA,CAAAa,SAAA,GAAAzB,MAAA,CACxF;IAAA,EADyG;IAAvG1B,EAAA,CAAAI,YAAA,EAAyG;IACzGJ,EAAA,CAAAwB,SAAA,UAAK;IACLxB,EAAA,CAAAE,cAAA,SAAG;IAAAF,EAAA,CAAAG,MAAA,8DAAsD;IAAAH,EAAA,CAAAI,YAAA,EAAI;IAC7DJ,EAAA,CAAAE,cAAA,aAAO;IAC0GF,EAAA,CAAAU,UAAA,oBAAA0C,4DAAA;MAAApD,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAA0B,OAAA,GAAArD,EAAA,CAAAkB,aAAA;MAAA,OAAUlB,EAAA,CAAAmB,WAAA,CAAAkC,OAAA,CAAAC,SAAA,CAAU,YAAY,CAAC;IAAA,EAAC;IAAjJtD,EAAA,CAAAI,YAAA,EAAkJ;IAClJJ,EAAA,CAAAG,MAAA,wCACF;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACRJ,EAAA,CAAAwB,SAAA,UAAK;IACLxB,EAAA,CAAAE,cAAA,aAAO;IAC0GF,EAAA,CAAAU,UAAA,oBAAA6C,4DAAA;MAAAvD,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAA6B,OAAA,GAAAxD,EAAA,CAAAkB,aAAA;MAAA,OAAUlB,EAAA,CAAAmB,WAAA,CAAAqC,OAAA,CAAAF,SAAA,CAAU,YAAY,CAAC;IAAA,EAAC;IAAjJtD,EAAA,CAAAI,YAAA,EAAkJ;IAClJJ,EAAA,CAAAG,MAAA,wCACF;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACRJ,EAAA,CAAAwB,SAAA,UAAK;IACLxB,EAAA,CAAAE,cAAA,aAAO;IACuGF,EAAA,CAAAU,UAAA,oBAAA+C,4DAAA;MAAAzD,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAA+B,OAAA,GAAA1D,EAAA,CAAAkB,aAAA;MAAA,OAAUlB,EAAA,CAAAmB,WAAA,CAAAuC,OAAA,CAAAJ,SAAA,CAAU,SAAS,CAAC;IAAA,EAAC;IAA3ItD,EAAA,CAAAI,YAAA,EAA4I;IAC5IJ,EAAA,CAAAG,MAAA,4BACF;IAAAH,EAAA,CAAAI,YAAA,EAAQ;IACRJ,EAAA,CAAAwB,SAAA,UAAK;IACLxB,EAAA,CAAAG,MAAA,+EACA;IAAAH,EAAA,CAAAwB,SAAA,UAAK;IACLxB,EAAA,CAAAE,cAAA,eAAgC;IAC9BF,EAAA,CAAA8B,UAAA,KAAA6B,2CAAA,oBAGQ;IACV3D,EAAA,CAAAI,YAAA,EAAM;IAGNJ,EAAA,CAAAE,cAAA,kBAAsE;IAAxBF,EAAA,CAAAU,UAAA,mBAAAkD,4DAAA;MAAA5D,EAAA,CAAAa,aAAA,CAAAc,IAAA;MAAA,MAAAkC,OAAA,GAAA7D,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA0C,OAAA,CAAAC,WAAA,EAAa;IAAA,EAAC;IAAC9D,EAAA,CAAAG,MAAA,oBAAO;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;IAlF9CJ,EAAA,CAAAM,SAAA,GAAc;IAAdN,EAAA,CAAAsB,UAAA,QAAAyC,MAAA,CAAAC,MAAA,EAAAhE,EAAA,CAAAiE,aAAA,CAAc;IASbjE,EAAA,CAAAM,SAAA,GAA4C;IAA5CN,EAAA,CAAAkE,kBAAA,KAAAH,MAAA,CAAAI,SAAA,CAAA5B,IAAA,OAAAwB,MAAA,CAAAI,SAAA,CAAAzB,OAAA,KAA4C;IAC9C1C,EAAA,CAAAM,SAAA,GAA6B;IAA7BN,EAAA,CAAAuB,kBAAA,YAAAwC,MAAA,CAAAI,SAAA,CAAAtB,MAAA,KAA6B;IAC7B7C,EAAA,CAAAM,SAAA,GAA2B;IAA3BN,EAAA,CAAAuB,kBAAA,WAAAwC,MAAA,CAAAI,SAAA,CAAAnB,KAAA,KAA2B;IAC3BhD,EAAA,CAAAM,SAAA,GAAiC;IAAjCN,EAAA,CAAAuB,kBAAA,aAAAwC,MAAA,CAAAI,SAAA,CAAAhB,SAAA,KAAiC;IAEhBnD,EAAA,CAAAM,SAAA,GAAqB;IAArBN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAI,SAAA,CAAAC,QAAA,CAAqB;IAKtBpE,EAAA,CAAAM,SAAA,GAAoB;IAApBN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAI,SAAA,CAAAE,OAAA,CAAoB;IAmBNrE,EAAA,CAAAM,SAAA,IAAyB;IAAzBN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAzB,MAAA,CAAAC,IAAA,CAAyB;IAItBvC,EAAA,CAAAM,SAAA,GAA4B;IAA5BN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAzB,MAAA,CAAAI,OAAA,CAA4B;IAI7B1C,EAAA,CAAAM,SAAA,GAA2B;IAA3BN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAzB,MAAA,CAAAO,MAAA,CAA2B;IAI3B7C,EAAA,CAAAM,SAAA,GAA0B;IAA1BN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAzB,MAAA,CAAAU,KAAA,CAA0B;IAIxBhD,EAAA,CAAAM,SAAA,GAA8B;IAA9BN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAzB,MAAA,CAAAa,SAAA,CAA8B;IAItCnD,EAAA,CAAAM,SAAA,GAA+C;IAA/CN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAO,YAAA,CAAAC,QAAA,eAA+C;IAK/CvE,EAAA,CAAAM,SAAA,GAA+C;IAA/CN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAO,YAAA,CAAAC,QAAA,eAA+C;IAK/CvE,EAAA,CAAAM,SAAA,GAA4C;IAA5CN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAO,YAAA,CAAAC,QAAA,YAA4C;IAOhFvE,EAAA,CAAAM,SAAA,GAAW;IAAXN,EAAA,CAAAsB,UAAA,YAAAyC,MAAA,CAAAK,QAAA,CAAW;;;;;IAgCgCpE,EAAA,CAAAE,cAAA,WAAqC;IAAAF,EAAA,CAAAG,MAAA,kBAAW;IAAAH,EAAA,CAAAI,YAAA,EAAO;;;;;;IAJvHJ,EAAA,CAAAC,uBAAA,GAAqD;IACnDD,EAAA,CAAAE,cAAA,SAAI;IACEF,EAAA,CAAAG,MAAA,GAAkD;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC3DJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAoB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC7BJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAwD;;IAAAH,EAAA,CAAA8B,UAAA,IAAA0C,yDAAA,kBAAuD;IAAAxE,EAAA,CAAAI,YAAA,EAAK;IACxHJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,IAAiB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC1BJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,IAAqB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC9BJ,EAAA,CAAAE,cAAA,UAAI;IAC4CF,EAAA,CAAAU,UAAA,mBAAA+D,4EAAA;MAAA,MAAA7D,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA6D,IAAA;MAAA,MAAAC,UAAA,GAAA/D,WAAA,CAAAI,SAAA;MAAA,MAAA4D,OAAA,GAAA5E,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAyD,OAAA,CAAAC,WAAA,CAAAF,UAAA,CAAmB;IAAA,EAAC;IAAC3E,EAAA,CAAAG,MAAA,gBAAQ;IAAAH,EAAA,CAAAI,YAAA,EAAS;IAE/FJ,EAAA,CAAAE,cAAA,UAAI;IAC2CF,EAAA,CAAAU,UAAA,mBAAAoE,4EAAA;MAAA,MAAAlE,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA6D,IAAA;MAAA,MAAAC,UAAA,GAAA/D,WAAA,CAAAI,SAAA;MAAA,MAAA+D,OAAA,GAAA/E,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA4D,OAAA,CAAAC,QAAA,CAAAL,UAAA,CAAgB;IAAA,EAAC;IAAC3E,EAAA,CAAAG,MAAA,aAAK;IAAAH,EAAA,CAAAI,YAAA,EAAS;IAAAJ,EAAA,CAAAG,MAAA,eACtF;IAAAH,EAAA,CAAAE,cAAA,iBAA8H;IAAlEF,EAAA,CAAAU,UAAA,2BAAAuE,mFAAAvD,MAAA;MAAA,MAAAd,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA6D,IAAA;MAAA,MAAAC,UAAA,GAAA/D,WAAA,CAAAI,SAAA;MAAA,OAAahB,EAAA,CAAAmB,WAAA,CAAAwD,UAAA,CAAAO,QAAA,GAAAxD,MAAA,CAAuB;IAAA,EAAP;IAAzF1B,EAAA,CAAAI,YAAA,EAA8H;IAGpIJ,EAAA,CAAAK,qBAAA,EAAe;;;;IAbPL,EAAA,CAAAM,SAAA,GAAkD;IAAlDN,EAAA,CAAAkE,kBAAA,KAAAS,UAAA,CAAAQ,UAAA,OAAAR,UAAA,CAAAS,aAAA,KAAkD;IAClDpF,EAAA,CAAAM,SAAA,GAAoB;IAApBN,EAAA,CAAAO,iBAAA,CAAAoE,UAAA,CAAAtD,OAAA,CAAoB;IACpBrB,EAAA,CAAAM,SAAA,GAAwD;IAAxDN,EAAA,CAAAO,iBAAA,CAAAP,EAAA,CAAAqF,WAAA,OAAAV,UAAA,CAAAW,gBAAA,sBAAwD;IAAOtF,EAAA,CAAAM,SAAA,GAA4B;IAA5BN,EAAA,CAAAsB,UAAA,SAAAqD,UAAA,CAAAY,OAAA,OAA4B;IAC3FvF,EAAA,CAAAM,SAAA,GAAiB;IAAjBN,EAAA,CAAAO,iBAAA,CAAAoE,UAAA,CAAAa,IAAA,CAAiB;IACjBxF,EAAA,CAAAM,SAAA,GAAqB;IAArBN,EAAA,CAAAO,iBAAA,CAAAoE,UAAA,CAAAc,QAAA,CAAqB;IAMqCzF,EAAA,CAAAM,SAAA,GAA6B;IAA7BN,EAAA,CAAAsB,UAAA,YAAAqD,UAAA,CAAAO,QAAA,CAA6B;;;;;;IA+BzFlF,EAAA,CAAAE,cAAA,iBAAmJ;IAA7CF,EAAA,CAAAU,UAAA,mBAAAgF,6FAAA;MAAA1F,EAAA,CAAAa,aAAA,CAAA8E,IAAA;MAAA,MAAAC,UAAA,GAAA5F,EAAA,CAAAkB,aAAA,GAAAF,SAAA;MAAA,MAAA6E,OAAA,GAAA7F,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA0E,OAAA,CAAAC,QAAA,CAAAF,UAAA,CAAAG,UAAA,EAAAH,UAAA,CAAkC;IAAA,EAAC;IAAC5F,EAAA,CAAAG,MAAA,gBAAS;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAGrKJ,EAAA,CAAAE,cAAA,iBAAwI;IAA3CF,EAAA,CAAAU,UAAA,mBAAAsF,6FAAA;MAAAhG,EAAA,CAAAa,aAAA,CAAAoF,IAAA;MAAA,MAAAL,UAAA,GAAA5F,EAAA,CAAAkB,aAAA,GAAAF,SAAA;MAAA,MAAAkF,OAAA,GAAAlG,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA+E,OAAA,CAAAC,MAAA,CAAAP,UAAA,CAAAG,UAAA,EAAAH,UAAA,CAAgC;IAAA,EAAC;IAAC5F,EAAA,CAAAG,MAAA,aAAM;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAT7JJ,EAAA,CAAAC,uBAAA,GAA0E;IACxED,EAAA,CAAAE,cAAA,SAAK;IACCF,EAAA,CAAAG,MAAA,GAAwD;;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACjEJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAoB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC7BJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAkD;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC3DJ,EAAA,CAAAE,cAAA,SAAI;IACFF,EAAA,CAAA8B,UAAA,KAAAsE,oEAAA,qBAAqK;IACvKpG,EAAA,CAAAI,YAAA,EAAK;IACLJ,EAAA,CAAAE,cAAA,UAAI;IACFF,EAAA,CAAA8B,UAAA,KAAAuE,oEAAA,qBAAuJ;IAAArG,EAAA,CAAAG,MAAA,eACvJ;IAAAH,EAAA,CAAAE,cAAA,iBAA8H;IAAlEF,EAAA,CAAAU,UAAA,2BAAA4F,2FAAA5E,MAAA;MAAA,MAAAd,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA0F,IAAA;MAAA,MAAAX,UAAA,GAAAhF,WAAA,CAAAI,SAAA;MAAA,OAAahB,EAAA,CAAAmB,WAAA,CAAAyE,UAAA,CAAAV,QAAA,GAAAxD,MAAA,CAAuB;IAAA,EAAP;IAAzF1B,EAAA,CAAAI,YAAA,EAA8H;IAGpIJ,EAAA,CAAAK,qBAAA,EAAe;;;;;IAXPL,EAAA,CAAAM,SAAA,GAAwD;IAAxDN,EAAA,CAAAO,iBAAA,CAAAP,EAAA,CAAAqF,WAAA,OAAAO,UAAA,CAAAN,gBAAA,sBAAwD;IACxDtF,EAAA,CAAAM,SAAA,GAAoB;IAApBN,EAAA,CAAAO,iBAAA,CAAAqF,UAAA,CAAAvE,OAAA,CAAoB;IACpBrB,EAAA,CAAAM,SAAA,GAAkD;IAAlDN,EAAA,CAAAkE,kBAAA,KAAA0B,UAAA,CAAAT,UAAA,OAAAS,UAAA,CAAAR,aAAA,KAAkD;IAE3CpF,EAAA,CAAAM,SAAA,GAAqD;IAArDN,EAAA,CAAAsB,UAAA,SAAAkF,OAAA,CAAAC,sBAAA,CAAAb,UAAA,CAAAN,gBAAA,EAAqD;IAGrDtF,EAAA,CAAAM,SAAA,GAA6C;IAA7CN,EAAA,CAAAsB,UAAA,UAAAkF,OAAA,CAAAE,aAAA,CAAAd,UAAA,CAAAN,gBAAA,EAA6C;IACMtF,EAAA,CAAAM,SAAA,GAA6B;IAA7BN,EAAA,CAAAsB,UAAA,YAAAsE,UAAA,CAAAV,QAAA,CAA6B;;;;;IAXjGlF,EAAA,CAAAE,cAAA,YAAmC;IACjCF,EAAA,CAAA8B,UAAA,IAAA6E,0DAAA,6BAae;IACjB3G,EAAA,CAAAI,YAAA,EAAQ;;;;IAd2BJ,EAAA,CAAAM,SAAA,GAAyB;IAAzBN,EAAA,CAAAsB,UAAA,YAAAsF,OAAA,CAAAC,QAAA,CAAAC,KAAA,OAAyB;;;;;;IAsBpD9G,EAAA,CAAAE,cAAA,iBAAmJ;IAA7CF,EAAA,CAAAU,UAAA,mBAAAqG,6FAAA;MAAA/G,EAAA,CAAAa,aAAA,CAAAmG,IAAA;MAAA,MAAAC,UAAA,GAAAjH,EAAA,CAAAkB,aAAA,GAAAF,SAAA;MAAA,MAAAkG,OAAA,GAAAlH,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA+F,OAAA,CAAApB,QAAA,CAAAmB,UAAA,CAAAlB,UAAA,EAAAkB,UAAA,CAAkC;IAAA,EAAC;IAACjH,EAAA,CAAAG,MAAA,gBAAS;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAGrKJ,EAAA,CAAAE,cAAA,iBAAwI;IAA3CF,EAAA,CAAAU,UAAA,mBAAAyG,6FAAA;MAAAnH,EAAA,CAAAa,aAAA,CAAAuG,IAAA;MAAA,MAAAH,UAAA,GAAAjH,EAAA,CAAAkB,aAAA,GAAAF,SAAA;MAAA,MAAAqG,OAAA,GAAArH,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAkG,OAAA,CAAAlB,MAAA,CAAAc,UAAA,CAAAlB,UAAA,EAAAkB,UAAA,CAAgC;IAAA,EAAC;IAACjH,EAAA,CAAAG,MAAA,aAAM;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAT7JJ,EAAA,CAAAC,uBAAA,GAA2E;IACzED,EAAA,CAAAE,cAAA,SAAI;IACEF,EAAA,CAAAG,MAAA,GAAwD;;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACjEJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAoB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC7BJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAkD;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC3DJ,EAAA,CAAAE,cAAA,SAAI;IACFF,EAAA,CAAA8B,UAAA,KAAAwF,oEAAA,qBAAqK;IACvKtH,EAAA,CAAAI,YAAA,EAAK;IACLJ,EAAA,CAAAE,cAAA,UAAI;IACFF,EAAA,CAAA8B,UAAA,KAAAyF,oEAAA,qBAAuJ;IAAAvH,EAAA,CAAAG,MAAA,eACvJ;IAAAH,EAAA,CAAAE,cAAA,iBAA8H;IAAlEF,EAAA,CAAAU,UAAA,2BAAA8G,2FAAA9F,MAAA;MAAA,MAAAd,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA4G,IAAA;MAAA,MAAAR,UAAA,GAAArG,WAAA,CAAAI,SAAA;MAAA,OAAahB,EAAA,CAAAmB,WAAA,CAAA8F,UAAA,CAAA/B,QAAA,GAAAxD,MAAA,CAAuB;IAAA,EAAP;IAAzF1B,EAAA,CAAAI,YAAA,EAA8H;IAGpIJ,EAAA,CAAAK,qBAAA,EAAe;;;;;IAXPL,EAAA,CAAAM,SAAA,GAAwD;IAAxDN,EAAA,CAAAO,iBAAA,CAAAP,EAAA,CAAAqF,WAAA,OAAA4B,UAAA,CAAA3B,gBAAA,sBAAwD;IACxDtF,EAAA,CAAAM,SAAA,GAAoB;IAApBN,EAAA,CAAAO,iBAAA,CAAA0G,UAAA,CAAA5F,OAAA,CAAoB;IACpBrB,EAAA,CAAAM,SAAA,GAAkD;IAAlDN,EAAA,CAAAkE,kBAAA,KAAA+C,UAAA,CAAA9B,UAAA,OAAA8B,UAAA,CAAA7B,aAAA,KAAkD;IAE3CpF,EAAA,CAAAM,SAAA,GAAqD;IAArDN,EAAA,CAAAsB,UAAA,SAAAoG,OAAA,CAAAjB,sBAAA,CAAAQ,UAAA,CAAA3B,gBAAA,EAAqD;IAGrDtF,EAAA,CAAAM,SAAA,GAA6C;IAA7CN,EAAA,CAAAsB,UAAA,UAAAoG,OAAA,CAAAhB,aAAA,CAAAO,UAAA,CAAA3B,gBAAA,EAA6C;IACMtF,EAAA,CAAAM,SAAA,GAA6B;IAA7BN,EAAA,CAAAsB,UAAA,YAAA2F,UAAA,CAAA/B,QAAA,CAA6B;;;;;IAXjGlF,EAAA,CAAAE,cAAA,YAAmC;IACjCF,EAAA,CAAA8B,UAAA,IAAA6F,0DAAA,6BAae;IACjB3H,EAAA,CAAAI,YAAA,EAAQ;;;;IAd2BJ,EAAA,CAAAM,SAAA,GAA2B;IAA3BN,EAAA,CAAAsB,UAAA,YAAAsG,OAAA,CAAAC,SAAA,CAAAf,KAAA,QAA2B;;;;;;IAsBtD9G,EAAA,CAAAE,cAAA,iBAAmJ;IAA7CF,EAAA,CAAAU,UAAA,mBAAAoH,6FAAA;MAAA9H,EAAA,CAAAa,aAAA,CAAAkH,IAAA;MAAA,MAAAC,UAAA,GAAAhI,EAAA,CAAAkB,aAAA,GAAAF,SAAA;MAAA,MAAAiH,OAAA,GAAAjI,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA8G,OAAA,CAAAnC,QAAA,CAAAkC,UAAA,CAAAjC,UAAA,EAAAiC,UAAA,CAAkC;IAAA,EAAC;IAAChI,EAAA,CAAAG,MAAA,gBAAS;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAGrKJ,EAAA,CAAAE,cAAA,iBAAwI;IAA3CF,EAAA,CAAAU,UAAA,mBAAAwH,6FAAA;MAAAlI,EAAA,CAAAa,aAAA,CAAAsH,IAAA;MAAA,MAAAH,UAAA,GAAAhI,EAAA,CAAAkB,aAAA,GAAAF,SAAA;MAAA,MAAAoH,OAAA,GAAApI,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAiH,OAAA,CAAAjC,MAAA,CAAA6B,UAAA,CAAAjC,UAAA,EAAAiC,UAAA,CAAgC;IAAA,EAAC;IAAChI,EAAA,CAAAG,MAAA,aAAM;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAT7JJ,EAAA,CAAAC,uBAAA,GAA+C;IAC7CD,EAAA,CAAAE,cAAA,SAAI;IACEF,EAAA,CAAAG,MAAA,GAAuD;;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAChEJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAoB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC7BJ,EAAA,CAAAE,cAAA,SAAI;IAAAF,EAAA,CAAAG,MAAA,GAAkD;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC3DJ,EAAA,CAAAE,cAAA,SAAI;IACFF,EAAA,CAAA8B,UAAA,KAAAuG,oEAAA,qBAAqK;IACvKrI,EAAA,CAAAI,YAAA,EAAK;IACLJ,EAAA,CAAAE,cAAA,UAAI;IACFF,EAAA,CAAA8B,UAAA,KAAAwG,oEAAA,qBAAuJ;IAAAtI,EAAA,CAAAG,MAAA,eACvJ;IAAAH,EAAA,CAAAE,cAAA,iBAA8H;IAAlEF,EAAA,CAAAU,UAAA,2BAAA6H,2FAAA7G,MAAA;MAAA,MAAAd,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA2H,IAAA;MAAA,MAAAR,UAAA,GAAApH,WAAA,CAAAI,SAAA;MAAA,OAAahB,EAAA,CAAAmB,WAAA,CAAA6G,UAAA,CAAA9C,QAAA,GAAAxD,MAAA,CAAuB;IAAA,EAAP;IAAzF1B,EAAA,CAAAI,YAAA,EAA8H;IAIpIJ,EAAA,CAAAK,qBAAA,EAAe;;;;;IAZPL,EAAA,CAAAM,SAAA,GAAuD;IAAvDN,EAAA,CAAAO,iBAAA,CAAAP,EAAA,CAAAqF,WAAA,OAAA2C,UAAA,CAAA1C,gBAAA,sBAAuD;IACvDtF,EAAA,CAAAM,SAAA,GAAoB;IAApBN,EAAA,CAAAO,iBAAA,CAAAyH,UAAA,CAAA3G,OAAA,CAAoB;IACpBrB,EAAA,CAAAM,SAAA,GAAkD;IAAlDN,EAAA,CAAAkE,kBAAA,KAAA8D,UAAA,CAAA7C,UAAA,OAAA6C,UAAA,CAAA5C,aAAA,KAAkD;IAE3CpF,EAAA,CAAAM,SAAA,GAAqD;IAArDN,EAAA,CAAAsB,UAAA,SAAAmH,OAAA,CAAAhC,sBAAA,CAAAuB,UAAA,CAAA1C,gBAAA,EAAqD;IAGrDtF,EAAA,CAAAM,SAAA,GAA6C;IAA7CN,EAAA,CAAAsB,UAAA,UAAAmH,OAAA,CAAA/B,aAAA,CAAAsB,UAAA,CAAA1C,gBAAA,EAA6C;IACMtF,EAAA,CAAAM,SAAA,GAA6B;IAA7BN,EAAA,CAAAsB,UAAA,YAAA0G,UAAA,CAAA9C,QAAA,CAA6B;;;;;IAXjGlF,EAAA,CAAAE,cAAA,YAAmC;IACjCF,EAAA,CAAA8B,UAAA,IAAA4G,0DAAA,6BAce;IACjB1I,EAAA,CAAAI,YAAA,EAAQ;;;;IAf2BJ,EAAA,CAAAM,SAAA,GAAY;IAAZN,EAAA,CAAAsB,UAAA,YAAAqH,OAAA,CAAAd,SAAA,CAAY;;;;;;IAtFvD7H,EAAA,CAAAE,cAAA,UAAyB;IAGfF,EAAA,CAAAG,MAAA,qBAAc;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACvBJ,EAAA,CAAAE,cAAA,gBAAqB;IAGXF,EAAA,CAAAG,MAAA,kBAAM;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACfJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,eAAO;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAChBJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,YAAI;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACbJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,aAAK;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACdJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,sBAAc;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACvBJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,gBAAQ;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACjBJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,aAAK;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAGlBJ,EAAA,CAAAE,cAAA,aAAO;IACLF,EAAA,CAAA8B,UAAA,KAAA8G,kDAAA,6BAee;IACjB5I,EAAA,CAAAI,YAAA,EAAQ;IAIdJ,EAAA,CAAAE,cAAA,eAAiB;IAETF,EAAA,CAAAG,MAAA,8BAAiB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC1BJ,EAAA,CAAAE,cAAA,kBAA4E;IAA3BF,EAAA,CAAAU,UAAA,mBAAAmI,4DAAA;MAAA7I,EAAA,CAAAa,aAAA,CAAAiI,IAAA;MAAA,MAAAC,OAAA,GAAA/I,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA4H,OAAA,CAAAC,aAAA,CAAc,CAAC,CAAC;IAAA,EAAC;IAAChJ,EAAA,CAAAG,MAAA,yBAAiB;IAAAH,EAAA,CAAAI,YAAA,EAAS;IAAAJ,EAAA,CAAAG,MAAA,eACtG;IAAAH,EAAA,CAAAE,cAAA,kBAA4E;IAA3BF,EAAA,CAAAU,UAAA,mBAAAuI,4DAAA;MAAAjJ,EAAA,CAAAa,aAAA,CAAAiI,IAAA;MAAA,MAAAI,OAAA,GAAAlJ,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAA+H,OAAA,CAAAF,aAAA,CAAc,CAAC,CAAC;IAAA,EAAC;IAAChJ,EAAA,CAAAG,MAAA,iBAAS;IAAAH,EAAA,CAAAI,YAAA,EAAS;IAAAJ,EAAA,CAAAG,MAAA,eAC9F;IAAAH,EAAA,CAAAE,cAAA,kBAAuE;IAA3BF,EAAA,CAAAU,UAAA,mBAAAyI,4DAAA;MAAAnJ,EAAA,CAAAa,aAAA,CAAAiI,IAAA;MAAA,MAAAM,OAAA,GAAApJ,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAiI,OAAA,CAAAJ,aAAA,CAAc,CAAC,CAAC;IAAA,EAAC;IAAChJ,EAAA,CAAAG,MAAA,mBAAW;IAAAH,EAAA,CAAAI,YAAA,EAAS;IAAAJ,EAAA,CAAAG,MAAA,eAC3F;IAAAH,EAAA,CAAAE,cAAA,iBAAqB;IAGXF,EAAA,CAAAG,MAAA,aAAK;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACdJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,eAAO;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAChBJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,mBAAM;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACfJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,YAAI;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACbJ,EAAA,CAAAE,cAAA,UAAI;IAAAF,EAAA,CAAAG,MAAA,cAAM;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAGnBJ,EAAA,CAAA8B,UAAA,KAAAuH,2CAAA,mBAeQ;IACRrJ,EAAA,CAAA8B,UAAA,KAAAwH,2CAAA,mBAeQ;IACRtJ,EAAA,CAAA8B,UAAA,KAAAyH,2CAAA,mBAgBQ;IACVvJ,EAAA,CAAAI,YAAA,EAAQ;;;;IArF6BJ,EAAA,CAAAM,SAAA,IAAkB;IAAlBN,EAAA,CAAAsB,UAAA,YAAAkI,MAAA,CAAAC,eAAA,CAAkB;IAoC7CzJ,EAAA,CAAAM,SAAA,IAAyB;IAAzBN,EAAA,CAAAsB,UAAA,SAAAkI,MAAA,CAAAE,aAAA,OAAyB;IAgBzB1J,EAAA,CAAAM,SAAA,GAAyB;IAAzBN,EAAA,CAAAsB,UAAA,SAAAkI,MAAA,CAAAE,aAAA,OAAyB;IAgBzB1J,EAAA,CAAAM,SAAA,GAAyB;IAAzBN,EAAA,CAAAsB,UAAA,SAAAkI,MAAA,CAAAE,aAAA,OAAyB;;;;;;IAsCvB1J,EAAA,CAAAE,cAAA,eAA6E;IAC3EF,EAAA,CAAAG,MAAA,GACA;;IAAAH,EAAA,CAAAE,cAAA,gBAA6H;IAA9DF,EAAA,CAAAU,UAAA,2BAAAiJ,6FAAAjI,MAAA;MAAA,MAAAd,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA+I,IAAA;MAAA,MAAAC,KAAA,GAAAjJ,WAAA,CAAAkJ,KAAA;MAAA,MAAAC,UAAA,GAAA/J,EAAA,CAAAkB,aAAA,IAAAF,SAAA;MAAA,OAAahB,EAAA,CAAAmB,WAAA,CAAA4I,UAAA,CAAAC,MAAA,CAAAH,KAAA,EAAAI,KAAA,GAAAvI,MAAA,CAA8B;IAAA,EAAP;IAAnG1B,EAAA,CAAAI,YAAA,EAA6H;IAC7HJ,EAAA,CAAAE,cAAA,gBAAuI;IAA3EF,EAAA,CAAAU,UAAA,2BAAAwJ,6FAAAxI,MAAA;MAAA,MAAAd,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA+I,IAAA;MAAA,MAAAC,KAAA,GAAAjJ,WAAA,CAAAkJ,KAAA;MAAA,MAAAC,UAAA,GAAA/J,EAAA,CAAAkB,aAAA,IAAAF,SAAA;MAAA,OAAahB,EAAA,CAAAmB,WAAA,CAAA4I,UAAA,CAAAC,MAAA,CAAAH,KAAA,EAAA3E,QAAA,GAAAxD,MAAA,CAAiC;IAAA,EAAP;IAAnG1B,EAAA,CAAAI,YAAA,EAAuI;IAAAJ,EAAA,CAAAG,MAAA,cACvI;IAAAH,EAAA,CAAAE,cAAA,iBAAuE;IAAzBF,EAAA,CAAAU,UAAA,mBAAAyJ,sFAAA;MAAA,MAAAvJ,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA+I,IAAA;MAAA,MAAAQ,OAAA,GAAAxJ,WAAA,CAAAI,SAAA;MAAA,MAAAqJ,OAAA,GAAArK,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAkJ,OAAA,CAAAC,SAAA,CAAAF,OAAA,CAAc;IAAA,EAAC;IAACpK,EAAA,CAAAG,MAAA,4BAAqB;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;;;IAHrGJ,EAAA,CAAAM,SAAA,GACA;IADAN,EAAA,CAAAkE,kBAAA,MAAAkG,OAAA,CAAA/I,OAAA,SAAArB,EAAA,CAAAqF,WAAA,OAAA+E,OAAA,CAAA9E,gBAAA,2BACA;IAA+DtF,EAAA,CAAAM,SAAA,GAAoC;IAApCN,EAAA,CAAAsB,UAAA,YAAAyI,UAAA,CAAAC,MAAA,CAAAH,KAAA,EAAAI,KAAA,CAAoC;IACvCjK,EAAA,CAAAM,SAAA,GAAuC;IAAvCN,EAAA,CAAAsB,UAAA,YAAAyI,UAAA,CAAAC,MAAA,CAAAH,KAAA,EAAA3E,QAAA,CAAuC;;;;;IAP3GlF,EAAA,CAAAE,cAAA,SAA0B;IAElBF,EAAA,CAAAG,MAAA,aAAM;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACfJ,EAAA,CAAAE,cAAA,cAAwB;IACtBF,EAAA,CAAA8B,UAAA,IAAAyI,6DAAA,mBAKO;IACTvK,EAAA,CAAAI,YAAA,EAAM;;;;IANkBJ,EAAA,CAAAM,SAAA,GAAkB;IAAlBN,EAAA,CAAAsB,UAAA,YAAAyI,UAAA,CAAAC,MAAA,CAAkB;;;;;;IAXhDhK,EAAA,CAAAC,uBAAA,GAA4C;IAC1CD,EAAA,CAAAE,cAAA,SAAI;IACEF,EAAA,CAAAG,MAAA,GAAqB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAC9BJ,EAAA,CAAAE,cAAA,SAAI;IACyCF,EAAA,CAAAU,UAAA,mBAAA8J,0EAAA;MAAA,MAAA5J,WAAA,GAAAZ,EAAA,CAAAa,aAAA,CAAA4J,IAAA;MAAA,MAAAV,UAAA,GAAAnJ,WAAA,CAAAI,SAAA;MAAA,MAAA0J,OAAA,GAAA1K,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAuJ,OAAA,CAAAC,MAAA,CAAAZ,UAAA,CAAc;IAAA,EAAC;IAAC/J,EAAA,CAAAG,MAAA,oBAAa;IAAAH,EAAA,CAAAI,YAAA,EAAS;IAG9FJ,EAAA,CAAA8B,UAAA,IAAA8I,sDAAA,gBAYK;IACP5K,EAAA,CAAAK,qBAAA,EAAe;;;;IAlBPL,EAAA,CAAAM,SAAA,GAAqB;IAArBN,EAAA,CAAAO,iBAAA,CAAAwJ,UAAA,CAAAc,QAAA,CAAqB;IAKtB7K,EAAA,CAAAM,SAAA,GAAmB;IAAnBN,EAAA,CAAAsB,UAAA,SAAAyI,UAAA,CAAAe,MAAA,CAAmB;;;;;IAbpC9K,EAAA,CAAAE,cAAA,UAAyB;IAGfF,EAAA,CAAAG,MAAA,wBAAY;IAAAH,EAAA,CAAAI,YAAA,EAAK;IACrBJ,EAAA,CAAAE,cAAA,gBAAqB;IAEjBF,EAAA,CAAA8B,UAAA,IAAAiJ,iDAAA,2BAoBe;IACjB/K,EAAA,CAAAI,YAAA,EAAQ;;;;IArB2BJ,EAAA,CAAAM,SAAA,GAAS;IAATN,EAAA,CAAAsB,UAAA,YAAA0J,MAAA,CAAAC,MAAA,CAAS;;;AD9MxD,OAAM,MAAOC,kBAAkB;EAC7BC,YAAoBC,MAA2B,EAAUC,MAAe,EAAUC,GAAsB;IAApF,KAAAF,MAAM,GAANA,MAAM;IAA+B,KAAAC,MAAM,GAANA,MAAM;IAAmB,KAAAC,GAAG,GAAHA,GAAG;IAErF,KAAAC,KAAK,GAAY,CAAC;IAClB,KAAA7B,aAAa,GAAY,CAAC;IAC1B,KAAA8B,QAAQ,GAAY,YAAY;IAChC,KAAArH,SAAS,GAAe,IAAIrE,SAAS,EAAE;IACvC,KAAAwC,MAAM,GAAe,IAAIxC,SAAS,EAAE;IACpC,KAAAwE,YAAY,GAAa,EAAE;IAC3B,KAAAuC,QAAQ,GAAW,EAAE;IACrB,KAAA4E,iBAAiB,GAAU,EAAE;IAC7B,KAAAhC,eAAe,GAAW,EAAE;IAC5B,KAAAiC,eAAe,GAAW,EAAE;IAC5B,KAAAC,OAAO,GAAc,EAAE;IACvB,KAAAC,cAAc,GAAc,EAAE;IAC9B,KAAAX,MAAM,GAAc,EAAE;IACtB,KAAA7G,QAAQ,GAAe,EAAE;IACzB,KAAAyH,gBAAgB,GAAa,EAAE;IAC/B,KAAAC,OAAO,GAAW,uBAAuB;IACzC,KAAA9H,MAAM,GAAW,uBAAuB;IACxC,KAAA+H,YAAY,GAAgB,IAAI;IAChC,KAAAC,WAAW,GAAgB,IAAI;IAC/B,KAAAC,QAAQ,GAAY,EAAE;IACtB,KAAAC,MAAM,GAAY,EAAE;IACpB,KAAAC,aAAa,GAAY,EAAE;IAC3B,KAAAC,SAAS,GAAY,EAAE;IACvB,KAAAC,KAAK,GAAc,EAAE;IACrB,KAAAxE,SAAS,GAAW,EAAE;IACtB,KAAAyE,eAAe,GAAY,EAAE;EA3B+E;EA6B5GC,QAAQA,CAAA;IACN,IAAI,CAAChB,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,QAAQ,GAAG,YAAY;IAC5B,IAAIgB,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC9C,IAAG,CAACF,MAAM,EAAC;MACTG,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MAEtB,IAAI,CAACvB,MAAM,CAACwB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;KAChC,MAAI;MACH,IAAI,CAACrB,QAAQ,GAAGgB,MAAM;;IAExB,IAAI,CAACpB,MAAM,CAAC0B,WAAW,CAAC,CAAC,CAAC,CAACC,SAAS,CAACC,IAAI,IAAE;MACzC,IAAGA,IAAI,EAAC,IAAI,CAAC5I,QAAQ,GAAG4I,IAAI;IAE9B,CAAC,CAAC;IACF,IAAI,CAAC5B,MAAM,CAAC6B,eAAe,EAAE,CAACF,SAAS,CAACG,GAAG,IAAE;MAC3C,IAAI,CAAC9B,MAAM,CAAC+B,aAAa,EAAE,CAACJ,SAAS,CAACpB,OAAO,IAAE;QAC7C,KAAI,IAAIyB,CAAC,IAAIzB,OAAO,EAAC;UACnB,IAAI,CAACU,KAAK,CAACgB,IAAI,CAACD,CAAC,CAACpK,KAAK,CAAC;;QAE1B,KAAI,IAAIsK,CAAC,IAAIJ,GAAG,EAAC;UACf,IAAI,CAACb,KAAK,CAACgB,IAAI,CAACC,CAAC,CAACtK,KAAK,CAAC;;MAE5B,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,IAAI,CAACoI,MAAM,CAACmC,YAAY,CAAC,IAAI,CAAC/B,QAAQ,CAAC,CAACuB,SAAS,CAACG,GAAG,IAAE;MACrD,IAAI,CAAC/I,SAAS,GAAG+I,GAAG;MACpB,IAAI,CAAClJ,MAAM,IAAIkJ,GAAG,CAACM,UAAU;MAC7B,IAAI,CAACpB,SAAS,GAAGc,GAAG,CAACO,EAAE;MACvB,IAAI,CAACvB,MAAM,GAAG,IAAI,CAACJ,OAAO,GAAGoB,GAAG,CAACO,EAAE;IAErC,CAAC,CAAC;IACF,IAAI,CAACnJ,YAAY,GAAG,EAAE;IACtB,IAAI,CAAChC,MAAM,GAAG,IAAIxC,SAAS,EAAE;IAC7B,IAAI,CAACsL,MAAM,CAACsC,UAAU,CAAC,IAAI,CAAClC,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAG;MACvD,IAAI,CAACP,eAAe,GAAGO,MAAM;MAG7B,KAAI,IAAIoD,CAAC,IAAI,IAAI,CAAC3D,eAAe,EAAC;QAChC2D,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;QAC3CqH,CAAC,CAACQ,cAAc,GAAG,IAAID,IAAI,CAACP,CAAC,CAACS,cAAc,CAAC;QAC7CT,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;QAC9DX,CAAC,CAACQ,cAAc,CAACE,QAAQ,CAACV,CAAC,CAACQ,cAAc,CAACG,QAAQ,EAAE,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;UAChD,IAAGA,MAAM,EAAC;YACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;YAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;QAEpC,CAAC,CAAC;QACF,IAAG0K,CAAC,CAACQ,cAAc,CAACG,QAAQ,EAAE,GAAGX,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,KAAK,CAAC,EAAC;UACnEX,CAAC,CAAC7H,OAAO,GAAG,CAAC;;QAEf,IAAI,CAAC6F,MAAM,CAAC8C,MAAM,CAAC,CAAC,EAACd,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACC,IAAI,IAAE;UAC7C,IAAGA,IAAI,EAAC;YACN,IAAImB,GAAG,GAAG,CAAC;YACX,IAAIC,GAAG,GAAG,CAAC;YACX,KAAI,IAAIC,GAAG,IAAIrB,IAAI,EAAC;cAClB,IAAGqB,GAAG,CAACpE,KAAK,KAAK,CAAC,EAAC;gBACjBmE,GAAG,EAAE;gBACLD,GAAG,IAAIE,GAAG,CAACpE,KAAK;;;YAGpB,IAAGmE,GAAG,IAAI,CAAC,EAAC;cACVhB,CAAC,CAAC3H,QAAQ,GAAG0I,GAAG,GAACC,GAAG;;;QAG1B,CAAC,CAAC;;IAEN,CAAC,CAAC;IACF,IAAI,CAAChD,MAAM,CAACkD,SAAS,CAAC,IAAI,CAAC9C,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;MACrD,IAAI,CAACnC,SAAS,GAAGmC,MAAM;MACvB,IAAI,CAACnC,SAAS,CAAC0G,IAAI,CAAC,CAACnB,CAAC,EAAEE,CAAC,KAAI;QAC3B,MAAMkB,KAAK,GAAG,IAAIb,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;QACpC,MAAM0I,KAAK,GAAG,IAAId,IAAI,CAACL,CAAC,CAACvH,UAAU,CAAC;QAEpC,IAAIyI,KAAK,GAAGC,KAAK,EAAE,OAAO,CAAC,CAAC;QAC5B,IAAID,KAAK,GAAGC,KAAK,EAAE,OAAO,CAAC;QAC3B,OAAO,CAAC;MACV,CAAC,CAAC;MACF,IAAI,CAAC5G,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC6G,MAAM,CAACC,EAAE,IAAI,IAAIhB,IAAI,CAACgB,EAAE,CAAC5I,UAAU,CAAC,IAAI,IAAI4H,IAAI,EAAE,CAAC;MACnF,KAAI,IAAIP,CAAC,IAAI,IAAI,CAACvF,SAAS,EAAC;QAE1BuF,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;QAC3CqH,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;QAE9D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;UAChD,IAAGA,MAAM,EAAC;YACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;YAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;QAEpC,CAAC,CAAC;;IAEN,CAAC,CAAC;IACF,IAAI,CAAC0I,MAAM,CAACwD,QAAQ,CAAC,IAAI,CAACpD,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAG;MACrD,IAAI,CAACnD,QAAQ,GAAGmD,MAAM;MACtB;MACA,KAAI,IAAIoD,CAAC,IAAI,IAAI,CAACvG,QAAQ,EAAC;QACzBuG,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;QAC3CqH,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;QAE9D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;UAChD,IAAGA,MAAM,EAAC;YACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;YAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;QAEpC,CAAC,CAAC;;IAIN,CAAC,CAAC;IACF,IAAI,CAAC0I,MAAM,CAACyD,eAAe,CAAC,IAAI,CAACrD,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;MAC3D,IAAI,CAAC0B,eAAe,GAAG1B,MAAM;MAC7B,KAAK,IAAIqE,GAAG,IAAI,IAAI,CAAC3C,eAAe,EAAC;QACnC,IAAI,CAACC,OAAO,CAAC0B,IAAI,CAACgB,GAAG,CAACJ,MAAM,CAAC;;MAE/B,IAAI,CAACrC,cAAc,GAAGkD,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAAC,IAAI,CAACrD,OAAO,CAAC,CAAC;MACvD,KAAK,IAAIsC,MAAM,IAAI,IAAI,CAACrC,cAAc,EAAC;QACrC,IAAIqD,GAAG,GAAG,IAAIlP,MAAM,EAAE;QACtBkP,GAAG,CAAChB,MAAM,GAAGA,MAAM;QACnB,IAAI,CAAC7C,MAAM,CAAC4C,SAAS,CAACC,MAAM,CAAC,CAAClB,SAAS,CAACmC,GAAG,IAAE;UAC3CD,GAAG,CAACpE,QAAQ,GAAGqE,GAAG,CAAC3M,IAAI,GAAG,GAAG,GAAG2M,GAAG,CAACxM,OAAO;QAC7C,CAAC,CAAC;QAGF,IAAI,CAACuI,MAAM,CAACoC,IAAI,CAAC4B,GAAG,CAAC;;IAGzB,CAAC,CAAC;EAMJ;EAEA3E,SAASA,CAAC+D,GAAS;IACjB,IAAGA,GAAG,CAACpE,KAAK,GAAC,CAAC,IAAIoE,GAAG,CAACpE,KAAK,GAAG,CAAC,EAAC;MAC9BkF,KAAK,CAAC,4BAA4B,CAAC;MACnC;;IAEF,IAAI,CAAC/D,MAAM,CAACd,SAAS,CAAC+D,GAAG,CAAC,CAACtB,SAAS,CAACC,IAAI,IAAE;MACzCL,OAAO,CAACC,GAAG,CAACI,IAAI,CAACoC,OAAO,CAAC;IAC3B,CAAC,CAAC;IACF,KAAI,IAAIhC,CAAC,IAAI,IAAI,CAACnC,MAAM,EAAC;MACvB,IAAGmC,CAAC,CAACa,MAAM,KAAKI,GAAG,CAACJ,MAAM,EAAC;QACzB,KAAI,IAAIX,CAAC,IAAIF,CAAC,CAACpD,MAAM,EAAC;UACpB,IAAGqE,GAAG,CAACtI,UAAU,KAAKuH,CAAC,CAACvH,UAAU,EAAC;YACjCuH,CAAC,CAACrD,KAAK,GAAGoE,GAAG,CAACpE,KAAK;YACnBqD,CAAC,CAACpI,QAAQ,GAAGmJ,GAAG,CAACnJ,QAAQ;YACzB;;;;;IAMR;IACE;IACA;IACC;IACD;IACA;IACA;IACA;IACD;IACD;IAGE;IACD;IAED;EACF;;EACAyF,MAAMA,CAACpI,IAAa;IAClB,IAAGA,IAAI,CAACuI,MAAM,EAAC;MACbvI,IAAI,CAACuI,MAAM,GAAG,CAAC;KAChB,MAAI;MAEHvI,IAAI,CAACuI,MAAM,GAAG,CAAC;;EAGnB;EAGAuE,WAAWA,CAAC/B,CAAU;IACpB,IAAI,CAAC/B,KAAK,GAAG+B,CAAC;IACd,IAAGA,CAAC,IAAI,CAAC,EAAC;MACR,KAAI,IAAI2B,GAAG,IAAI,IAAI,CAAChE,MAAM,EAAC;QACzB,IAAI,CAACG,MAAM,CAACkE,SAAS,CAACL,GAAG,CAAChB,MAAM,EAAC,IAAI,CAACzC,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;UAChEiF,GAAG,CAACjF,MAAM,GAAGA,MAAM;UACnB,KAAI,IAAIoD,CAAC,IAAI6B,GAAG,CAACjF,MAAM,EAAC;YACtBoD,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;YAC3CqH,CAAC,CAACQ,cAAc,GAAG,IAAID,IAAI,CAACP,CAAC,CAACS,cAAc,CAAC;YAC7CT,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;YAC9DX,CAAC,CAACQ,cAAc,CAACE,QAAQ,CAACV,CAAC,CAACQ,cAAc,CAACG,QAAQ,EAAE,GAAG,CAAC,CAAC;;QAE9D,CAAC,CAAC;;;EAGR;EAGA/E,aAAaA,CAACsE,CAAU;IACtB,IAAI,CAAC5D,aAAa,GAAG4D,CAAC;EACxB;EAGAxJ,WAAWA,CAAA;IACT,IAAG,IAAI,CAAC+H,gBAAgB,CAAC0D,MAAM,KAAK,CAAC,EAAC;MACpC,IAAI,CAACjN,MAAM,CAAC8B,QAAQ,GAAG,IAAI,CAACD,SAAS,CAACC,QAAQ;KAC/C,MAAI;MACH,IAAI,CAAC9B,MAAM,CAAC8B,QAAQ,GAAG,IAAI,CAACyH,gBAAgB;;IAE9C,IAAI,CAACvJ,MAAM,CAACkJ,QAAQ,GAAG,IAAI,CAACrH,SAAS,CAACqH,QAAQ;IAC9C,IAAG,IAAI,CAAClJ,MAAM,CAACC,IAAI,KAAM,EAAE,EAAC,IAAI,CAACD,MAAM,CAACC,IAAI,GAAG,IAAI,CAAC4B,SAAS,CAAC5B,IAAI;IAClE,IAAG,IAAI,CAACD,MAAM,CAACI,OAAO,KAAM,EAAE,EAAC,IAAI,CAACJ,MAAM,CAACI,OAAO,GAAG,IAAI,CAACyB,SAAS,CAACzB,OAAO;IAC3E,IAAG,IAAI,CAACJ,MAAM,CAACO,MAAM,KAAM,EAAE,EAAC,IAAI,CAACP,MAAM,CAACO,MAAM,GAAG,IAAI,CAACsB,SAAS,CAACtB,MAAM;IACxE,IAAG,IAAI,CAACP,MAAM,CAACU,KAAK,KAAM,EAAE,EAAC;MAAC,IAAI,CAACV,MAAM,CAACU,KAAK,GAAG,IAAI,CAACmB,SAAS,CAACnB,KAAK;KAAC,MAAI;MACzE,MAAMwM,UAAU,GAAG,kDAAkD;MACrE,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAACnN,MAAM,CAACU,KAAK,CAAC,EAAE;QACvCmM,KAAK,CAAC,sBAAsB,CAAC;QAC7B,IAAI,CAAC7M,MAAM,GAAG,IAAIxC,SAAS,EAAE;QAC7B;;MAEF,IAAG,IAAI,CAACuM,KAAK,CAAC9H,QAAQ,CAAC,IAAI,CAACjC,MAAM,CAACU,KAAK,CAAC,EAAC;QACxCmM,KAAK,CAAC,wBAAwB,CAAC;QAC/B,IAAI,CAAC7M,MAAM,GAAG,IAAIxC,SAAS,EAAE;QAC7B;;;IAGJ,IAAG,IAAI,CAACwC,MAAM,CAACa,SAAS,KAAM,EAAE,EAAC;MAAC,IAAI,CAACb,MAAM,CAACa,SAAS,GAAG,IAAI,CAACgB,SAAS,CAAChB,SAAS;KAAC,MAAI;MACrF,MAAMuM,KAAK,GAAG,UAAU;MACxB,IAAG,CAACA,KAAK,CAACD,IAAI,CAAC,IAAI,CAACnN,MAAM,CAACa,SAAS,CAAC,EAAC;QAClCgM,KAAK,CAAC,6BAA6B,CAAC;QACpC,IAAI,CAAC7M,MAAM,GAAG,IAAIxC,SAAS,EAAE;QAC7B;;;IAGN,IAAG,IAAI,CAACwE,YAAY,CAACiL,MAAM,KAAK,CAAC,EAAC;MAChC,IAAI,CAACjN,MAAM,CAAC+B,OAAO,GAAG,IAAI,CAACF,SAAS,CAACE,OAAO;KAC7C,MAAI;MACH,IAAI,CAAC/B,MAAM,CAAC+B,OAAO,GAAG,IAAI,CAACC,YAAY;;IAEzC,IAAI,CAAC8G,MAAM,CAACuE,eAAe,CAAC,IAAI,CAACrN,MAAM,CAAC,CAACyK,SAAS,CAACC,IAAI,IAAE;MACvD,IAAGA,IAAI,CAACoC,OAAO,KAAM,gBAAgB,EAAC;QACpC,IAAI,CAACjL,SAAS,CAAC5B,IAAI,GAAG,IAAI,CAACD,MAAM,CAACC,IAAI;QACtC,IAAI,CAAC4B,SAAS,CAACzB,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACI,OAAO;QAC5C,IAAI,CAACyB,SAAS,CAACtB,MAAM,GAAG,IAAI,CAACP,MAAM,CAACO,MAAM;QAC1C,IAAI,CAACsB,SAAS,CAACnB,KAAK,GAAG,IAAI,CAACV,MAAM,CAACU,KAAK;QACxC,IAAI,CAACmB,SAAS,CAAChB,SAAS,GAAG,IAAI,CAACb,MAAM,CAACa,SAAS;QAChD,IAAI,CAACgB,SAAS,CAACC,QAAQ,GAAG,IAAI,CAAC9B,MAAM,CAAC8B,QAAQ;QAC9C,IAAI,CAACD,SAAS,CAACE,OAAO,GAAG,IAAI,CAAC/B,MAAM,CAAC+B,OAAO;QAC5C,IAAI,CAAC/B,MAAM,GAAG,IAAIxC,SAAS,EAAE;QAC7B,IAAI,CAACuM,KAAK,GAAG,EAAE;QACf,IAAI,CAACjB,MAAM,CAAC6B,eAAe,EAAE,CAACF,SAAS,CAACG,GAAG,IAAE;UAC3C,IAAI,CAAC9B,MAAM,CAAC+B,aAAa,EAAE,CAACJ,SAAS,CAACpB,OAAO,IAAE;YAC7C,KAAI,IAAIyB,CAAC,IAAIzB,OAAO,EAAC;cACnB,IAAI,CAACU,KAAK,CAACgB,IAAI,CAACD,CAAC,CAACpK,KAAK,CAAC;;YAE1B,KAAI,IAAIsK,CAAC,IAAIJ,GAAG,EAAC;cACf,IAAI,CAACb,KAAK,CAACgB,IAAI,CAACC,CAAC,CAACtK,KAAK,CAAC;;UAE5B,CAAC,CAAC;QACJ,CAAC,CAAC;;IAEN,CAAC,CAAC;IACF;IACA;IACA;IACA;EAEF;;EAEAM,SAASA,CAACsM,GAAW;IACnB,IAAI,IAAI,CAACtL,YAAY,CAACC,QAAQ,CAACqL,GAAG,CAAC,EAAE;MAEnC,IAAI,CAACtL,YAAY,GAAG,IAAI,CAACA,YAAY,CAACoK,MAAM,CAACmB,IAAI,IAAIA,IAAI,KAAKD,GAAG,CAAC;KACnE,MAAM;MACL;MACA,IAAI,CAACtL,YAAY,CAAC+I,IAAI,CAACuC,GAAG,CAAC;;EAI/B;EAGA/K,WAAWA,CAACwJ,GAAS;IACnB,IAAI,CAACjD,MAAM,CAAC0E,UAAU,CAACzB,GAAG,CAACtI,UAAU,EAAC,IAAI,CAACyF,QAAQ,EAAC,CAAC,EAAC6C,GAAG,CAAC0B,GAAG,CAAC,CAAChD,SAAS,CAACC,IAAI,IAAG,CAEhF,CAAC,CAAC;IAKF,IAAI,CAAC5B,MAAM,CAACwD,QAAQ,CAAC,IAAI,CAACpD,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAG;MACrD,IAAI,CAACnD,QAAQ,GAAGmD,MAAM;MACtB,IAAI,CAACP,eAAe,GAAG,IAAI,CAACA,eAAe,CAACiF,MAAM,CAACsB,EAAE,IAAIA,EAAE,CAACD,GAAG,KAAK1B,GAAG,CAAC0B,GAAG,CAAC;MAC5E,KAAI,IAAI3C,CAAC,IAAI,IAAI,CAACvG,QAAQ,EAAC;QACzBuG,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;QAC3CqH,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;QAC9D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;UAChD,IAAGA,MAAM,EAAC;YACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;YAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;QAEpC,CAAC,CAAC;;MAEJ,IAAI,CAAC0I,MAAM,CAACkD,SAAS,CAAC,IAAI,CAAC9C,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;QACrD,IAAI,CAACnC,SAAS,GAAGmC,MAAM;QACvB,IAAI,CAACnC,SAAS,CAAC0G,IAAI,CAAC,CAACnB,CAAC,EAAEE,CAAC,KAAI;UAC3B,MAAMkB,KAAK,GAAG,IAAIb,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;UACpC,MAAM0I,KAAK,GAAG,IAAId,IAAI,CAACL,CAAC,CAACvH,UAAU,CAAC;UAEpC,IAAIyI,KAAK,GAAGC,KAAK,EAAE,OAAO,CAAC,CAAC;UAC5B,IAAID,KAAK,GAAGC,KAAK,EAAE,OAAO,CAAC;UAC3B,OAAO,CAAC;QACV,CAAC,CAAC;QACF,IAAI,CAAC5G,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC6G,MAAM,CAACC,EAAE,IAAI,IAAIhB,IAAI,CAACgB,EAAE,CAAC5I,UAAU,CAAC,IAAI,IAAI4H,IAAI,EAAE,CAAC;QACnF,KAAI,IAAIP,CAAC,IAAI,IAAI,CAACvF,SAAS,EAAC;UAC1BuF,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;UAC3CqH,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;UAC9D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;YAChD,IAAGA,MAAM,EAAC;cACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;cAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;UAEpC,CAAC,CAAC;;MAEN,CAAC,CAAC;IAGJ,CAAC,CAAC;EAKJ;EAEAsC,QAAQA,CAACqJ,GAAS;IAChB,IAAGA,GAAG,CAACnJ,QAAQ,KAAK,EAAE,EAAC;MACrBiK,KAAK,CAAC,kCAAkC,CAAC;MACzC;;IAEF,IAAI,CAAC/D,MAAM,CAAC0E,UAAU,CAACzB,GAAG,CAACtI,UAAU,EAAC,IAAI,CAACyF,QAAQ,EAAC,CAAC,EAAC6C,GAAG,CAAC0B,GAAG,CAAC,CAAChD,SAAS,CAACC,IAAI,IAAG,CAEhF,CAAC,CAAC;IACF,IAAI,CAAC5B,MAAM,CAACd,SAAS,CAAC+D,GAAG,CAAC,CAACtB,SAAS,CAACC,IAAI,IAAE,CAE3C,CAAC,CAAC;IACF,IAAI,CAACvD,eAAe,GAAG,IAAI,CAACA,eAAe,CAACiF,MAAM,CAACsB,EAAE,IAAIA,EAAE,CAACD,GAAG,KAAK1B,GAAG,CAAC0B,GAAG,CAAC;IAC5E;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,CAAC3E,MAAM,CAACwD,QAAQ,CAAC,IAAI,CAACpD,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAG;MACrD,IAAI,CAACnD,QAAQ,GAAGmD,MAAM;MACtB,KAAI,IAAIoD,CAAC,IAAI,IAAI,CAACvG,QAAQ,EAAC;QACzBuG,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;QAC3CqH,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;QAC9D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;UAChD,IAAGA,MAAM,EAAC;YACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;YAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;QAEpC,CAAC,CAAC;;MAEJ,IAAI,CAAC0I,MAAM,CAACkD,SAAS,CAAC,IAAI,CAAC9C,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;QACrD,IAAI,CAACnC,SAAS,GAAGmC,MAAM;QACvB,IAAI,CAACnC,SAAS,CAAC0G,IAAI,CAAC,CAACnB,CAAC,EAAEE,CAAC,KAAI;UAC3B,MAAMkB,KAAK,GAAG,IAAIb,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;UACpC,MAAM0I,KAAK,GAAG,IAAId,IAAI,CAACL,CAAC,CAACvH,UAAU,CAAC;UAEpC,IAAIyI,KAAK,GAAGC,KAAK,EAAE,OAAO,CAAC,CAAC;UAC5B,IAAID,KAAK,GAAGC,KAAK,EAAE,OAAO,CAAC;UAC3B,OAAO,CAAC;QACV,CAAC,CAAC;QACF,IAAI,CAAC5G,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC6G,MAAM,CAACC,EAAE,IAAI,IAAIhB,IAAI,CAACgB,EAAE,CAAC5I,UAAU,CAAC,IAAI,IAAI4H,IAAI,EAAE,CAAC;QACnF,KAAI,IAAIP,CAAC,IAAI,IAAI,CAACvF,SAAS,EAAC;UAC1BuF,CAAC,CAAC9H,gBAAgB,GAAG,IAAIqI,IAAI,CAACP,CAAC,CAACrH,UAAU,CAAC;UAC3CqH,CAAC,CAAC9H,gBAAgB,CAACwI,QAAQ,CAACV,CAAC,CAAC9H,gBAAgB,CAACyI,QAAQ,EAAE,GAAG,CAAC,CAAC;UAC9D,IAAI,CAAC3C,MAAM,CAAC4C,SAAS,CAACZ,CAAC,CAACa,MAAM,CAAC,CAAClB,SAAS,CAACkB,MAAM,IAAE;YAChD,IAAGA,MAAM,EAAC;cACRb,CAAC,CAACjI,UAAU,GAAG8I,MAAM,CAAC1L,IAAI;cAC1B6K,CAAC,CAAChI,aAAa,GAAG6I,MAAM,CAACvL,OAAO;;UAEpC,CAAC,CAAC;;MAEN,CAAC,CAAC;IAEJ,CAAC,CAAC;EAEJ;EAEAoD,QAAQA,CAACmK,KAAY,EAAE5B,GAAS;IAC9BA,GAAG,CAAC6B,MAAM,GAAG,CAAC;IACd,IAAI,CAAC9E,MAAM,CAACtF,QAAQ,CAACmK,KAAK,EAAC,IAAI,CAACzE,QAAQ,EAAC,CAAC,CAAC,CAACuB,SAAS,CAACC,IAAI,IAAG,CAE7D,CAAC,CAAC;IACF;IACA;IACA;IAEA,IAAI,CAAC5B,MAAM,CAACyD,eAAe,CAAC,IAAI,CAACrD,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;MAC3D,IAAI,CAAC0B,eAAe,GAAG1B,MAAM;MAC7B,KAAK,IAAIqE,GAAG,IAAI,IAAI,CAAC3C,eAAe,EAAC;QACnC,IAAI,CAACC,OAAO,CAAC0B,IAAI,CAACgB,GAAG,CAACJ,MAAM,CAAC;;MAE/B,IAAI,CAACrC,cAAc,GAAGkD,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAAC,IAAI,CAACrD,OAAO,CAAC,CAAC;MACvD,IAAI,CAACV,MAAM,GAAG,EAAE;MAChB,KAAK,IAAIgD,MAAM,IAAI,IAAI,CAACrC,cAAc,EAAC;QACrC,IAAIqD,GAAG,GAAG,IAAIlP,MAAM,EAAE;QACtBkP,GAAG,CAAChB,MAAM,GAAGA,MAAM;QACnB,IAAI,CAAC7C,MAAM,CAAC4C,SAAS,CAACC,MAAM,CAAC,CAAClB,SAAS,CAACmC,GAAG,IAAE;UAC3CD,GAAG,CAACpE,QAAQ,GAAGqE,GAAG,CAAC3M,IAAI,GAAG,GAAG,GAAG2M,GAAG,CAACxM,OAAO;QAC7C,CAAC,CAAC;QAEF,IAAI,CAACuI,MAAM,CAACoC,IAAI,CAAC4B,GAAG,CAAC;;IAGzB,CAAC,CAAC;IACF,IAAI,CAACpI,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC6H,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACoB,GAAG,KAAK1B,GAAG,CAAC0B,GAAG,CAAC;IAC9D,IAAI,CAAClI,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC6G,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACoB,GAAG,KAAK1B,GAAG,CAAC0B,GAAG,CAAC;IAChE;IACA;IAEA;EAEF;;EAGA5J,MAAMA,CAAC8J,KAAY,EAAE5B,GAAS;IAC5BA,GAAG,CAAC6B,MAAM,GAAG,CAAC;IACd,IAAG7B,GAAG,CAACnJ,QAAQ,KAAK,EAAE,EAAC;MACrBiK,KAAK,CAAC,+BAA+B,CAAC;MACtC;;IAEF,IAAI,CAAC/D,MAAM,CAACtF,QAAQ,CAACmK,KAAK,EAAC,IAAI,CAACzE,QAAQ,EAAC,CAAC,CAAC,CAACuB,SAAS,CAACC,IAAI,IAAG,CAE7D,CAAC,CAAC;IACF;IACA;IACA;IACA,IAAI,CAAC5B,MAAM,CAACd,SAAS,CAAC+D,GAAG,CAAC,CAACtB,SAAS,CAACC,IAAI,IAAE,CAE3C,CAAC,CAAC;IAEF,IAAI,CAAC5B,MAAM,CAACyD,eAAe,CAAC,IAAI,CAACrD,QAAQ,CAAC,CAACuB,SAAS,CAAC/C,MAAM,IAAE;MAC3D,IAAI,CAAC0B,eAAe,GAAG1B,MAAM;MAC7B,KAAK,IAAIqE,GAAG,IAAI,IAAI,CAAC3C,eAAe,EAAC;QACnC,IAAI,CAACC,OAAO,CAAC0B,IAAI,CAACgB,GAAG,CAACJ,MAAM,CAAC;;MAE/B,IAAI,CAACrC,cAAc,GAAGkD,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAAC,IAAI,CAACrD,OAAO,CAAC,CAAC;MACvD,IAAI,CAACV,MAAM,GAAG,EAAE;MAChB,KAAK,IAAIgD,MAAM,IAAI,IAAI,CAACrC,cAAc,EAAC;QACrC,IAAIqD,GAAG,GAAG,IAAIlP,MAAM,EAAE;QACtBkP,GAAG,CAAChB,MAAM,GAAGA,MAAM;QACnB,IAAI,CAAC7C,MAAM,CAAC4C,SAAS,CAACC,MAAM,CAAC,CAAClB,SAAS,CAACmC,GAAG,IAAE;UAC3CD,GAAG,CAACpE,QAAQ,GAAGqE,GAAG,CAAC3M,IAAI,GAAG,GAAG,GAAG2M,GAAG,CAACxM,OAAO;QAC7C,CAAC,CAAC;QAGF,IAAI,CAACuI,MAAM,CAACoC,IAAI,CAAC4B,GAAG,CAAC;;IAGzB,CAAC,CAAC;IACF,IAAI,CAACpI,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC6H,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACoB,GAAG,KAAK1B,GAAG,CAAC0B,GAAG,CAAC;IAC9D,IAAI,CAAClI,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC6G,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACoB,GAAG,KAAK1B,GAAG,CAAC0B,GAAG,CAAC;IAChE;IACA;IAEA;EAEF;;EAEAI,MAAMA,CAAA;IACJ1D,YAAY,CAAC2D,KAAK,EAAE;IACpB,IAAI,CAAC/E,MAAM,CAACwB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EAC5B;EAEAzL,eAAeA,CAACC,OAAe;IAC7B,IAAI,IAAI,CAACwK,gBAAgB,CAACtH,QAAQ,CAAClD,OAAO,CAAC,EAAE;MAC3C,IAAI,CAACwK,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAAC6C,MAAM,CAAC2B,CAAC,IAAIA,CAAC,KAAKhP,OAAO,CAAC;KACzE,MAAM;MACL,IAAI,CAACwK,gBAAgB,CAACwB,IAAI,CAAChM,OAAO,CAAC;;EAEvC;EAEAc,OAAOA,CAAA;IACL,IAAI,IAAI,CAAC+J,MAAM,EAAE;MACfS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,MAAM,CAAC;MACxBoE,MAAM,CAACC,IAAI,CAAC,IAAI,CAACrE,MAAM,EAAE,QAAQ,CAAC;;EAEtC;EAEArK,eAAeA,CAAC2O,KAAU;IACxB,IAAI,CAACzE,YAAY,GAAGyE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACzC,MAAMC,UAAU,GAAG,IAAIC,UAAU,EAAE;IACnC,IAAI,CAAE,IAAI,CAAC7E,YAAY,EAAE;MACvB;MACA,IAAI,CAACA,YAAY,GAAG,IAAI,CAAC,CAAC;MAC1B;;IAEF4E,UAAU,CAACE,MAAM,GAAIC,CAAC,IAAI;MACxB,MAAMC,GAAG,GAAG,IAAIC,KAAK,EAAE;MACvBD,GAAG,CAACE,GAAG,GAAGN,UAAU,CAACO,MAAgB;MACrCH,GAAG,CAACF,MAAM,GAAG,MAAK;QAChB,MAAMM,KAAK,GAAGJ,GAAG,CAACI,KAAK;QACvB,MAAMC,MAAM,GAAGL,GAAG,CAACK,MAAM;QACzB,IAAID,KAAK,IAAI,GAAG,IAAIA,KAAK,IAAI,GAAG,IAAIC,MAAM,IAAI,GAAG,IAAIA,MAAM,IAAI,GAAG,EAAE;UAClEzE,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEuE,KAAK,EAAE,GAAG,EAAEC,MAAM,CAAC;UAC9D,IAAI,CAACC,UAAU,EAAE,CAACC,IAAI,CAAC,MAAI;YACzB,IAAI,CAACtN,MAAM,GAAG,IAAI,CAAC8H,OAAO,GAAG,IAAI,CAACG,QAAQ;YAC1C,IAAI,CAAC3J,MAAM,CAACkL,UAAU,GAAG,IAAI,CAACvB,QAAQ;YACtC,IAAI,CAACb,MAAM,CAACmG,oBAAoB,CAAC,IAAI,CAACpN,SAAS,CAACqH,QAAQ,EAAC,IAAI,CAACS,QAAQ,CAAC,CAACc,SAAS,CAACmC,GAAG,IAAE,CAEvF,CAAC,CAAC;UACJ,CAAC,CAAC;SAEH,MAAM;UACLC,KAAK,CAAC,+BAA+B,GAAGgC,KAAK,GAAG,GAAG,GAAGC,MAAM,CAAC;UAC7DzE,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEuE,KAAK,EAAE,GAAG,EAAEC,MAAM,CAAC;UAChE,IAAI,CAACrF,YAAY,GAAG,IAAI,CAAC,CAAC;UAC1B;;MAGJ,CAAC;IACH,CAAC;IAED4E,UAAU,CAACa,aAAa,CAAC,IAAI,CAACzF,YAAa,CAAC;EAG9C;EAEA0F,aAAaA,CAACjB,KAAU;IACtB,IAAI,CAACxE,WAAW,GAAGwE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACxC,IAAI,CAAC,IAAI,CAAC1E,WAAW,EAAE;MACrB;MACA,IAAI,CAACA,WAAW,GAAG,IAAI;MACvB;;IAEF,IAAI,IAAI,CAACA,WAAW,CAAC0F,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;MAC3C,IAAI,CAAC1F,WAAW,GAAG,IAAI;MACvBmD,KAAK,CAAC,6BAA6B,CAAC;MACpC;;IAEF,IAAI,CAACwC,SAAS,EAAE,CAACL,IAAI,CAAC,MAAI;MACxB,IAAI,CAAClG,MAAM,CAACwG,QAAQ,CAAC,IAAI,CAACzN,SAAS,CAACqH,QAAQ,EAAC,IAAI,CAACW,aAAa,CAAC,CAACY,SAAS,CAACmC,GAAG,IAAE,CAEhF,CAAC,CAAC;MACF,IAAI,CAAC9C,SAAS,GAAG,IAAI,CAACD,aAAa;MACnC,IAAI,CAACD,MAAM,GAAG,IAAI,CAACJ,OAAO,GAAG,IAAI,CAACK,aAAa;IACjD,CAAC,CAAC;EAIJ;EAGAkF,UAAUA,CAAA;IACR,OAAO,IAAIQ,OAAO,CAAO,CAACC,OAAO,EAAEC,MAAM,KAAI;MAC3C,IAAI,CAAC3G,MAAM,CAAC4G,aAAa,CAAC,IAAI,CAACjG,YAAa,CAAC,CAACgB,SAAS,CAACC,IAAI,IAAG;QAC7D,IAAIA,IAAI,IAAIA,IAAI,CAACiF,QAAQ,EAAE;UACzBtF,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;UAC1C,IAAI,CAACX,QAAQ,GAAGe,IAAI,CAACiF,QAAQ;UAE7BH,OAAO,EAAE;SACV,MAAM;UACLC,MAAM,CAAC,IAAIG,KAAK,CAAC,eAAe,CAAC,CAAC;;MAEtC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAGAP,SAASA,CAAA;IACP,OAAO,IAAIE,OAAO,CAAO,CAACC,OAAO,EAAEC,MAAM,KAAI;MAC3C,IAAI,CAAC3G,MAAM,CAAC4G,aAAa,CAAC,IAAI,CAAChG,WAAY,CAAC,CAACe,SAAS,CAACC,IAAI,IAAG;QAC5D,IAAIA,IAAI,IAAIA,IAAI,CAACiF,QAAQ,EAAE;UACzBtF,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;UAC1C,IAAI,CAACT,aAAa,GAAGa,IAAI,CAACiF,QAAQ;UAClCtF,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,aAAa,CAAC;UAE/B2F,OAAO,EAAE;SACV,MAAM;UACLC,MAAM,CAAC,IAAIG,KAAK,CAAC,eAAe,CAAC,CAAC;;MAEtC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAGAzL,sBAAsBA,CAAC0L,cAAoB;IACzC,IAAIC,cAAc,GAAG,IAAIzE,IAAI,CAACwE,cAAc,CAAC;IAC7C,IAAIE,eAAe,GAAG,IAAI1E,IAAI,EAAE;IAChC,IAAI2E,wBAAwB,GAAGF,cAAc,CAACG,OAAO,EAAE,GAAGF,eAAe,CAACE,OAAO,EAAE;IACnF,IAAIC,mBAAmB,GAAGF,wBAAwB,IAAI,IAAI,GAAG,EAAE,CAAC;IAChE,OAAOE,mBAAmB,IAAI,EAAE,IAAIA,mBAAmB,GAAG,CAAC;EAC7D;EAEA9L,aAAaA,CAAC+L,IAAW;IACvB,IAAIL,cAAc,GAAG,IAAIzE,IAAI,CAAC8E,IAAI,CAAC;IACnC,IAAIJ,eAAe,GAAG,IAAI1E,IAAI,EAAE;IAChC,IAAI2E,wBAAwB,GAAGF,cAAc,CAACG,OAAO,EAAE,GAAGF,eAAe,CAACE,OAAO,EAAE;IACnF,IAAIG,iBAAiB,GAAGJ,wBAAwB,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;IACnE,OAAOI,iBAAiB,IAAI,CAAC,IAAIA,iBAAiB,GAAG,CAAC;EACxD;EAAC,QAAAC,CAAA,G;qBA1oBUzH,kBAAkB,EAAAlL,EAAA,CAAA4S,iBAAA,CAAAC,EAAA,CAAAC,kBAAA,GAAA9S,EAAA,CAAA4S,iBAAA,CAAAG,EAAA,CAAAC,MAAA,GAAAhT,EAAA,CAAA4S,iBAAA,CAAA5S,EAAA,CAAAiT,iBAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAlBhI,kBAAkB;IAAAiI,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCf/BzT,EAAA,CAAAE,cAAA,gBAAwC;QAG5BF,EAAA,CAAAU,UAAA,mBAAAiT,kDAAA;UAAA,OAASD,GAAA,CAAArE,WAAA,CAAY,CAAC,CAAC;QAAA,EAAC;QAACrP,EAAA,CAAAG,MAAA,cAAQ;QAAAH,EAAA,CAAAI,YAAA,EAAO;QAC9CJ,EAAA,CAAAE,cAAA,cAA+B;QAAzBF,EAAA,CAAAU,UAAA,mBAAAkT,kDAAA;UAAA,OAASF,GAAA,CAAArE,WAAA,CAAY,CAAC,CAAC;QAAA,EAAC;QAACrP,EAAA,CAAAG,MAAA,cAAQ;QAAAH,EAAA,CAAAI,YAAA,EAAO;QAC9CJ,EAAA,CAAAE,cAAA,cAA+B;QAAzBF,EAAA,CAAAU,UAAA,mBAAAmT,kDAAA;UAAA,OAASH,GAAA,CAAArE,WAAA,CAAY,CAAC,CAAC;QAAA,EAAC;QAACrP,EAAA,CAAAG,MAAA,oBAAc;QAAAH,EAAA,CAAAI,YAAA,EAAO;QACpDJ,EAAA,CAAAE,cAAA,cAAyB;QAAnBF,EAAA,CAAAU,UAAA,mBAAAoT,kDAAA;UAAA,OAASJ,GAAA,CAAAvD,MAAA,EAAQ;QAAA,EAAC;QAACnQ,EAAA,CAAAG,MAAA,eAAO;QAAAH,EAAA,CAAAI,YAAA,EAAO;QAQ7CJ,EAAA,CAAAE,cAAA,YAAM;QAIFF,EAAA,CAAA8B,UAAA,KAAAiS,kCAAA,mBA0FM;QACN/T,EAAA,CAAA8B,UAAA,KAAAkS,kCAAA,kBAyGM;QACNhU,EAAA,CAAA8B,UAAA,KAAAmS,kCAAA,iBA+BM;QACRjU,EAAA,CAAAI,YAAA,EAAO;QACPJ,EAAA,CAAAE,cAAA,cAAQ;QAEDF,EAAA,CAAAG,MAAA,oBAAY;QAAAH,EAAA,CAAAI,YAAA,EAAI;;;QAxOfJ,EAAA,CAAAM,SAAA,IAAiB;QAAjBN,EAAA,CAAAsB,UAAA,SAAAoS,GAAA,CAAAnI,KAAA,OAAiB;QA2FjBvL,EAAA,CAAAM,SAAA,GAAiB;QAAjBN,EAAA,CAAAsB,UAAA,SAAAoS,GAAA,CAAAnI,KAAA,OAAiB;QA0GjBvL,EAAA,CAAAM,SAAA,GAAiB;QAAjBN,EAAA,CAAAsB,UAAA,SAAAoS,GAAA,CAAAnI,KAAA,OAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}