{"ast":null,"code":"import { Nastavnik } from '../models/nastavnik';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../servisi/loginservis.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisternastavnikComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Username: \");\n    i0.ɵɵelementStart(2, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.user.username = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4, \" Password: \");\n    i0.ɵɵelementStart(5, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.user.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtext(7, \" Firstname: \");\n    i0.ɵɵelementStart(8, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.user.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10, \" Lastname: \");\n    i0.ɵɵelementStart(11, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.user.surname = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13, \" Safety question: \");\n    i0.ɵɵelementStart(14, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.user.safetyq = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵtext(16, \" Safety answer: \");\n    i0.ɵɵelementStart(17, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.user.safetya = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵtext(19, \" Adress: \");\n    i0.ɵɵelementStart(20, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.user.adress = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵtext(22, \" email: \");\n    i0.ɵɵelementStart(23, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.user.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵtext(25, \" Telephone: \");\n    i0.ɵɵelementStart(26, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_input_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.user.telephone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"br\");\n    i0.ɵɵelementStart(28, \"label\", 7);\n    i0.ɵɵtext(29, \"Select Gender:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"select\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_3_Template_select_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.user.sex = $event);\n    });\n    i0.ɵɵelementStart(31, \"option\", 9);\n    i0.ɵɵtext(32, \"Musko\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"option\", 10);\n    i0.ɵɵtext(34, \"Zensko\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(35, \"br\");\n    i0.ɵɵtext(36, \" Profilna slika:\");\n    i0.ɵɵelementStart(37, \"input\", 11);\n    i0.ɵɵlistener(\"change\", function RegisternastavnikComponent_div_3_Template_input_change_37_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"br\");\n    i0.ɵɵelementStart(39, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function RegisternastavnikComponent_div_3_Template_button_click_39_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.goToSecondStep());\n    });\n    i0.ɵɵtext(40, \"Next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"br\");\n    i0.ɵɵelementStart(42, \"span\", 13);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(44, \"br\");\n    i0.ɵɵelementStart(45, \"a\", 14);\n    i0.ɵɵtext(46, \"Nazad\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.username);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.password);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.surname);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.safetyq);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.safetya);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.adress);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.telephone);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.sex);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate(ctx_r0.message);\n  }\n}\nfunction RegisternastavnikComponent_div_4_label_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\")(1, \"input\", 18);\n    i0.ɵɵlistener(\"change\", function RegisternastavnikComponent_div_4_label_20_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const predmet_r16 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.toggleSelection(predmet_r16.predmet));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const predmet_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", predmet_r16.predmet);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", predmet_r16.predmet, \" \");\n  }\n}\nfunction RegisternastavnikComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Razredi gde bi predavali: \");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementStart(3, \"label\")(4, \"input\", 15);\n    i0.ɵɵlistener(\"change\", function RegisternastavnikComponent_div_4_Template_input_change_4_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.toggleAge(\"osnovna1-4\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" Osnovna \\u0161kola 1-4. razred \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"label\")(8, \"input\", 15);\n    i0.ɵɵlistener(\"change\", function RegisternastavnikComponent_div_4_Template_input_change_8_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.toggleAge(\"osnovna5-8\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" Osnovna \\u0161kola 5-8. razred \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"label\")(12, \"input\", 15);\n    i0.ɵɵlistener(\"change\", function RegisternastavnikComponent_div_4_Template_input_change_12_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.toggleAge(\"srednja\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \" Srednja \\u0161kola \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵtext(15, \" Gde ste culi za nas sajt: \");\n    i0.ɵɵelementStart(16, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_4_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.user.referenca = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵtext(18, \" Koje predmete bi predavali? \");\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵtemplate(20, RegisternastavnikComponent_div_4_label_20_Template, 4, 2, \"label\", 16);\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵtext(22, \" Neki drugi predmet(unesite ime zeljenog predmeta ako ocete vise predmeta unesite 1 po 1)? \");\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵelementStart(24, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisternastavnikComponent_div_4_Template_input_ngModelChange_24_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.predmetToAdd = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function RegisternastavnikComponent_div_4_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.addPredmet());\n    });\n    i0.ɵɵtext(26, \"Dodaj\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"br\");\n    i0.ɵɵtext(28, \" CV:\");\n    i0.ɵɵelementStart(29, \"input\", 17);\n    i0.ɵɵlistener(\"change\", function RegisternastavnikComponent_div_4_Template_input_change_29_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"br\");\n    i0.ɵɵelementStart(31, \"span\", 13);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(33, \"br\")(34, \"br\");\n    i0.ɵɵelementStart(35, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function RegisternastavnikComponent_div_4_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.showAlert());\n    });\n    i0.ɵɵtext(36, \"Register\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"br\")(38, \"br\");\n    i0.ɵɵelementStart(39, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function RegisternastavnikComponent_div_4_Template_button_click_39_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.back());\n    });\n    i0.ɵɵtext(40, \"Nazad\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r1.selectedAges.includes(\"osnovna1-4\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r1.selectedAges.includes(\"osnovna5-8\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r1.selectedAges.includes(\"srednja\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.user.referenca);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.predmeti);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.predmetToAdd);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.message2);\n  }\n}\nexport class RegisternastavnikComponent {\n  constructor(servis, router) {\n    this.servis = servis;\n    this.router = router;\n    this.selectedAges = [];\n    this.user = new Nastavnik();\n    this.firststep = 0;\n    this.predmeti = [];\n    this.selectedPredmeti = [];\n    this.predmetToAdd = \"\";\n    this.message = \"\";\n    this.message2 = \"\";\n    this.selectedFile = null;\n    this.selectedPDF = null;\n    this.imageUrl = \"\";\n    this.PDFUrl = \"\";\n    this.showPic = 0;\n  }\n  ngOnInit() {\n    this.imageUrl = \"\";\n    this.PDFUrl = \"\";\n    this.firststep = 0;\n    this.servis.getpredmeti(1).subscribe(data => {\n      if (data) this.predmeti = data;\n    });\n  }\n  goToSecondStep() {\n    if (this.showPic === 2) {\n      this.message = \"Slika je loseg formata\";\n      return;\n    }\n    if (this.user.username === \"\" && this.user.name === \"\" && this.user.password === \"\" && this.user.surname === \"\" && this.user.safetya === \"\" && this.user.safetyq === \"\" && this.user.adress === \"\" && this.user.email === \"\" && this.user.sex === \"\" && this.user.telephone === \"\") {\n      this.message = \"Popunite sva polja\";\n      return;\n    }\n    this.message = \"\";\n    const passwordRegex = /^(?=.*[A-Z])(?=.*[a-z]{3,})(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,10}$/;\n    if (!passwordRegex.test(this.user.password)) {\n      this.message = \"Format sifre je los\";\n      return;\n    }\n    if (this.selectedFile !== null) {\n      this.uploadTest().then(() => {\n        this.user.profilePic = this.imageUrl;\n        //alert(this.user.profilePic)\n        this.firststep++;\n      });\n    } else {\n      this.user.profilePic = \"/uploads/default.jpg\";\n      this.firststep++;\n    }\n  }\n  toggleAge(age) {\n    if (this.selectedAges.includes(age)) {\n      // Ukloni uzrast ako već postoji u nizu\n      this.selectedAges = this.selectedAges.filter(item => item !== age);\n    } else {\n      // Dodaj uzrast ako ne postoji u nizu\n      this.selectedAges.push(age);\n    }\n  }\n  back() {\n    this.firststep = 0;\n  }\n  showAlert() {\n    this.message2 = \"\";\n    this.user.razredi = this.selectedAges;\n    this.user.predmeti = this.selectedPredmeti;\n    if (this.selectedPDF == null) {\n      this.message2 = \"Morate CV staviti\";\n      return;\n    }\n    if (this.selectedPredmeti.length === 0) {\n      this.message2 = \"Nema izabranih predmeta\";\n      return;\n    }\n    if (this.selectedAges.length === 0) {\n      this.message2 = \"Nema izabranih uzrasta\";\n      return;\n    } else {\n      this.uploadPDF().then(() => {\n        this.user.CV = this.PDFUrl;\n        this.servis.registerN(this.user).subscribe(data => {\n          if (data.message == \"ok\") {\n            this.firststep = 0;\n            this.router.navigate(['login']);\n          } else {\n            this.message2 = data.message;\n          }\n        });\n      });\n    }\n  }\n  toggleSelection(predmet) {\n    if (this.selectedPredmeti.includes(predmet)) {\n      this.selectedPredmeti = this.selectedPredmeti.filter(p => p !== predmet);\n    } else {\n      this.selectedPredmeti.push(predmet);\n    }\n  }\n  addPredmet() {\n    if (this.predmetToAdd === \"\") {\n      alert(\"Unesite Predmet\");\n    } else {\n      this.servis.addpredmeti(this.predmetToAdd, 0).subscribe(data => {});\n    }\n  }\n  onFileSelected(event) {\n    if (event.target.files[0].type === 'application/pdf') {\n      this.selectedPDF = event.target.files[0];\n    } else {\n      this.selectedFile = event.target.files[0];\n      const fileReader = new FileReader();\n      if (!this.selectedFile) {\n        this.showPic = 0;\n        this.selectedFile = null;\n        return;\n      }\n      fileReader.onload = e => {\n        const img = new Image();\n        img.src = fileReader.result;\n        img.onload = () => {\n          const width = img.width;\n          const height = img.height;\n          if (width >= 100 && width <= 300 && height >= 100 && height <= 300) {\n            console.log(\"Image dimensions are valid:\", width, \"x\", height);\n            this.message = \"\";\n            this.showPic = 1; // Optionally show the image preview\n          } else {\n            this.message = \"Slika mora biti u regionu 100x100 i 300x300\";\n            this.showPic = 2; // Optionally hide the image preview\n            this.selectedFile = null; // Clear the selected file\n            return;\n          }\n        };\n      };\n      if (this.showPic === 2) return;\n      fileReader.readAsDataURL(this.selectedFile);\n    }\n    //this.selectedFile = event.target.files[0];\n  }\n\n  uploadTest() {\n    return new Promise((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedFile).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.imageUrl = data.filename;\n          console.log(this.imageUrl);\n          resolve(); // Resolve the Promise when upload is completed\n        } else {\n          reject(new Error('Upload failed')); // Reject the Promise if upload fails\n        }\n      });\n    });\n  }\n\n  uploadPDF() {\n    return new Promise((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedPDF).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.PDFUrl = data.filename;\n          console.log(this.imageUrl);\n          resolve(); // Resolve the Promise when upload is completed\n        } else {\n          reject(new Error('Upload failed')); // Reject the Promise if upload fails\n        }\n      });\n    });\n  }\n  static #_ = this.ɵfac = function RegisternastavnikComponent_Factory(t) {\n    return new (t || RegisternastavnikComponent)(i0.ɵɵdirectiveInject(i1.LoginservisService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisternastavnikComponent,\n    selectors: [[\"app-registernastavnik\"]],\n    decls: 5,\n    vars: 2,\n    consts: [[1, \"center-container\"], [1, \"container\"], [4, \"ngIf\"], [\"type\", \"text\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"tel\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"pol\"], [\"id\", \"pol\", \"name\", \"pol\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"M\"], [\"value\", \"Z\"], [\"type\", \"file\", \"accept\", \"image/*\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"change\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [2, \"color\", \"red\"], [\"routerLink\", \"/login\"], [\"type\", \"checkbox\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"checked\", \"change\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", \"accept\", \".pdf\", 1, \"btn-outline-dark\", \"rounded-pill\", 3, \"change\"], [\"type\", \"checkbox\", \"name\", \"predmeti\", 1, \"rounded-pill\", 3, \"value\", \"change\"]],\n    template: function RegisternastavnikComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0)(2, \"div\", 1);\n        i0.ɵɵtemplate(3, RegisternastavnikComponent_div_3_Template, 47, 11, \"div\", 2);\n        i0.ɵɵtemplate(4, RegisternastavnikComponent_div_4_Template, 41, 7, \"div\", 2);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.firststep === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.firststep === 1);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"html[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n\\nbody[_ngcontent-%COMP%] {\\n\\n}\\n\\n\\n.center-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 100vh;\\n  background: url('background.jpg') no-repeat center center fixed;\\n  background-size: cover;\\n\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  border: 2px solid #ced4da;\\n  border-radius: 10px;\\n  padding: 20px;\\n  max-width: 400px;\\n  text-align: center;\\n  margin: 0 auto;\\n  background-color: white;\\n}\\n\\n.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n  width: 60%;\\n}\\n\\n.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 60%;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVnaXN0ZXJuYXN0YXZuaWsvcmVnaXN0ZXJuYXN0YXZuaWsuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixTQUFTO0VBQ1QsVUFBVTtBQUNaOzs7QUFHQTs7QUFFQTs7O0FBR0E7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsK0RBQTRFO0VBQzVFLHNCQUFzQjs7QUFFeEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaIiwic291cmNlc0NvbnRlbnQiOlsiaHRtbCwgYm9keSB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG5cclxuYm9keSB7XHJcblxyXG59XHJcblxyXG5cclxuLmNlbnRlci1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtaW4taGVpZ2h0OiAxMDB2aDtcclxuICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9iYWNrZ3JvdW5kLmpwZycpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyIGZpeGVkO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcblxyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICBib3JkZXI6IDJweCBzb2xpZCAjY2VkNGRhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmNvbnRhaW5lciBoMyB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY29udGFpbmVyIGlucHV0IHtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIHdpZHRoOiA2MCU7XHJcbn1cclxuXHJcbi5jb250YWluZXIgYnV0dG9uIHtcclxuICB3aWR0aDogNjAlO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["Nastavnik","i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","RegisternastavnikComponent_div_3_Template_input_ngModelChange_2_listener","$event","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","user","username","ɵɵelementEnd","ɵɵelement","RegisternastavnikComponent_div_3_Template_input_ngModelChange_5_listener","ctx_r4","password","RegisternastavnikComponent_div_3_Template_input_ngModelChange_8_listener","ctx_r5","name","RegisternastavnikComponent_div_3_Template_input_ngModelChange_11_listener","ctx_r6","surname","RegisternastavnikComponent_div_3_Template_input_ngModelChange_14_listener","ctx_r7","safetyq","RegisternastavnikComponent_div_3_Template_input_ngModelChange_17_listener","ctx_r8","safetya","RegisternastavnikComponent_div_3_Template_input_ngModelChange_20_listener","ctx_r9","adress","RegisternastavnikComponent_div_3_Template_input_ngModelChange_23_listener","ctx_r10","email","RegisternastavnikComponent_div_3_Template_input_ngModelChange_26_listener","ctx_r11","telephone","RegisternastavnikComponent_div_3_Template_select_ngModelChange_30_listener","ctx_r12","sex","RegisternastavnikComponent_div_3_Template_input_change_37_listener","ctx_r13","onFileSelected","RegisternastavnikComponent_div_3_Template_button_click_39_listener","ctx_r14","goToSecondStep","ɵɵadvance","ɵɵproperty","ctx_r0","ɵɵtextInterpolate","message","RegisternastavnikComponent_div_4_label_20_Template_input_change_1_listener","restoredCtx","_r18","predmet_r16","$implicit","ctx_r17","toggleSelection","predmet","ɵɵtextInterpolate1","RegisternastavnikComponent_div_4_Template_input_change_4_listener","_r20","ctx_r19","toggleAge","RegisternastavnikComponent_div_4_Template_input_change_8_listener","ctx_r21","RegisternastavnikComponent_div_4_Template_input_change_12_listener","ctx_r22","RegisternastavnikComponent_div_4_Template_input_ngModelChange_16_listener","ctx_r23","referenca","ɵɵtemplate","RegisternastavnikComponent_div_4_label_20_Template","RegisternastavnikComponent_div_4_Template_input_ngModelChange_24_listener","ctx_r24","predmetToAdd","RegisternastavnikComponent_div_4_Template_button_click_25_listener","ctx_r25","addPredmet","RegisternastavnikComponent_div_4_Template_input_change_29_listener","ctx_r26","RegisternastavnikComponent_div_4_Template_button_click_35_listener","ctx_r27","showAlert","RegisternastavnikComponent_div_4_Template_button_click_39_listener","ctx_r28","back","ctx_r1","selectedAges","includes","predmeti","message2","RegisternastavnikComponent","constructor","servis","router","firststep","selectedPredmeti","selectedFile","selectedPDF","imageUrl","PDFUrl","showPic","ngOnInit","getpredmeti","subscribe","data","passwordRegex","test","uploadTest","then","profilePic","age","filter","item","push","razredi","length","uploadPDF","CV","registerN","navigate","p","alert","addpredmeti","event","target","files","type","fileReader","FileReader","onload","e","img","Image","src","result","width","height","console","log","readAsDataURL","Promise","resolve","reject","uploadPicture","filename","Error","_","ɵɵdirectiveInject","i1","LoginservisService","i2","Router","_2","selectors","decls","vars","consts","template","RegisternastavnikComponent_Template","rf","ctx","RegisternastavnikComponent_div_3_Template","RegisternastavnikComponent_div_4_Template"],"sources":["C:\\Users\\Teodor\\Desktop\\PIAPROJEKAT\\frontend\\src\\app\\registernastavnik\\registernastavnik.component.ts","C:\\Users\\Teodor\\Desktop\\PIAPROJEKAT\\frontend\\src\\app\\registernastavnik\\registernastavnik.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { LoginservisService } from '../servisi/loginservis.service';\nimport { Nastavnik } from '../models/nastavnik';\nimport { Predmet } from '../models/predmet';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-registernastavnik',\n  templateUrl: './registernastavnik.component.html',\n  styleUrls: ['./registernastavnik.component.css']\n})\nexport class RegisternastavnikComponent {\n\n  constructor(private servis: LoginservisService,private router : Router) {}\n\n  selectedAges: string[] = [];\n\n  user: Nastavnik = new Nastavnik()\n\n  firststep : number = 0\n  predmeti : Predmet[] = []\n  selectedPredmeti: string[] = []\n  predmetToAdd : string = \"\"\n  message: string = \"\"\n  message2: string = \"\"\n  selectedFile: File | null = null;\n  selectedPDF: File | null = null;\n  imageUrl: string = \"\"\n  PDFUrl: string = \"\"\n  showPic : number = 0\n\n  ngOnInit(){\n    this.imageUrl = \"\"\n    this.PDFUrl = \"\"\n    this.firststep = 0\n    this.servis.getpredmeti(1).subscribe(data=>{\n      if(data)this.predmeti = data\n\n    })\n  }\n\n  goToSecondStep(){\n    if(this.showPic === 2){\n      this.message = \"Slika je loseg formata\"\n      return\n    }\n    if(this.user.username === \"\" && this.user.name === \"\" && this.user.password === \"\" && this.user.surname === \"\" &&\n    this.user.safetya === \"\" && this.user.safetyq === \"\" && this.user.adress === \"\" && this.user.email === \"\" && this.user.sex === \"\" && this.user.telephone === \"\"){\n      this.message = \"Popunite sva polja\"\n      return\n    }\n    this.message = \"\"\n    const passwordRegex = /^(?=.*[A-Z])(?=.*[a-z]{3,})(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,10}$/;\n\n    if (!passwordRegex.test(this.user.password)) {\n      this.message = \"Format sifre je los\"\n      return;\n    }\n    if(this.selectedFile !== null){\n      this.uploadTest().then(() =>{\n        this.user.profilePic = this.imageUrl\n        //alert(this.user.profilePic)\n        this.firststep++;\n      })\n\n    }else{\n      this.user.profilePic = \"/uploads/default.jpg\"\n      this.firststep++;\n    }\n\n  }\n\n  toggleAge(age: string) {\n    if (this.selectedAges.includes(age)) {\n      // Ukloni uzrast ako već postoji u nizu\n      this.selectedAges = this.selectedAges.filter(item => item !== age);\n    } else {\n      // Dodaj uzrast ako ne postoji u nizu\n      this.selectedAges.push(age);\n    }\n\n\n  }\n\n  back(){\n    this.firststep = 0\n  }\n\n  showAlert() {\n    this.message2 = \"\"\n    this.user.razredi = this.selectedAges;\n    this.user.predmeti = this.selectedPredmeti\n    if(this.selectedPDF == null){\n      this.message2 = \"Morate CV staviti\"\n\n      return;\n    }\n    if (this.selectedPredmeti.length === 0) {\n      this.message2 = \"Nema izabranih predmeta\"\n\n      return;\n    }\n    if (this.selectedAges.length === 0) {\n      this.message2 = \"Nema izabranih uzrasta\"\n      return;\n    } else {\n      this.uploadPDF().then(() => {\n        this.user.CV = this.PDFUrl\n        this.servis.registerN(this.user).subscribe(\n          data=>{\n            if(data.message==\"ok\"){\n              this.firststep = 0;\n              this.router.navigate(['login'])\n            }else{\n              this.message2 = data.message\n            }\n          }\n        )\n\n      })\n\n    }\n\n  }\n\n\n  toggleSelection(predmet: string) {\n    if (this.selectedPredmeti.includes(predmet)) {\n      this.selectedPredmeti = this.selectedPredmeti.filter(p => p !== predmet);\n    } else {\n      this.selectedPredmeti.push(predmet);\n    }\n  }\n\n  addPredmet(){\n    if(this.predmetToAdd === \"\"){\n      alert(\"Unesite Predmet\")\n    }else{\n      this.servis.addpredmeti(this.predmetToAdd,0).subscribe(data=>{\n\n      })\n    }\n  }\n\n  onFileSelected(event: any) {\n    if(event.target.files[0].type  === 'application/pdf'){\n      this.selectedPDF = event.target.files[0];\n    }else{\n      this.selectedFile = event.target.files[0];\n      const fileReader = new FileReader();\n\n    if (! this.selectedFile) {\n\n      this.showPic = 0;\n      this.selectedFile = null;\n      return;\n    }\n\n    fileReader.onload = (e) => {\n      const img = new Image();\n      img.src = fileReader.result as string;\n      img.onload = () => {\n        const width = img.width;\n        const height = img.height;\n        if (width >= 100 && width <= 300 && height >= 100 && height <= 300) {\n          console.log(\"Image dimensions are valid:\", width, \"x\", height);\n          this.message = \"\"\n          this.showPic = 1; // Optionally show the image preview\n        } else {\n          this.message = \"Slika mora biti u regionu 100x100 i 300x300\";\n          this.showPic = 2; // Optionally hide the image preview\n          this.selectedFile = null; // Clear the selected file\n          return\n\n        }\n      };\n    };\n    if(this.showPic === 2)return\n    fileReader.readAsDataURL(this.selectedFile!);\n    }\n    //this.selectedFile = event.target.files[0];\n  }\n\n\n  uploadTest(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedFile!).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.imageUrl = data.filename;\n          console.log(this.imageUrl);\n          resolve(); // Resolve the Promise when upload is completed\n        } else {\n          reject(new Error('Upload failed')); // Reject the Promise if upload fails\n        }\n      });\n    });\n  }\n\n\n  uploadPDF(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      this.servis.uploadPicture(this.selectedPDF!).subscribe(data => {\n        if (data && data.filename) {\n          console.log('File uploaded successfully.');\n          this.PDFUrl = data.filename;\n          console.log(this.imageUrl);\n          resolve(); // Resolve the Promise when upload is completed\n        } else {\n          reject(new Error('Upload failed')); // Reject the Promise if upload fails\n        }\n      });\n    });\n  }\n\n}\n","\n\n<body>\n  <div class =\"center-container\">\n    <div class =\"container\">\n      <div *ngIf=\"firststep === 0\">\n        Username: <input  class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.username\">\n        <br/>\n        Password: <input  class = \"btn-outline-dark rounded-pill\" type=\"password\" [(ngModel)]=\"user.password\">\n        <br/>\n        Firstname: <input  class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.name\">\n        <br/>\n        Lastname: <input class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.surname\">\n        <br/>\n        Safety question: <input class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.safetyq\">\n        <br/>\n        Safety answer: <input class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.safetya\">\n        <br/>\n        Adress: <input class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.adress\">\n        <br/>\n        email: <input class = \"btn-outline-dark rounded-pill\" type=\"email\" [(ngModel)]=\"user.email\">\n        <br/>\n        Telephone: <input class = \"btn-outline-dark rounded-pill\" type=\"tel\" [(ngModel)]=\"user.telephone\">\n        <br/>\n        <label for=\"pol\">Select Gender:</label>\n        <select class = \"btn-outline-dark rounded-pill\" id=\"pol\" [(ngModel)]=\"user.sex\" name=\"pol\">\n          <option value=\"M\">Musko</option>\n          <option value=\"Z\">Zensko</option>\n        </select>\n        <br/>\n\n        Profilna slika:<input class = \"btn-outline-dark rounded-pill\" type=\"file\" (change)=\"onFileSelected($event)\" accept=\"image/*\"  />\n        <br/>\n        <button class=\"btn btn-primary\" (click)=\"goToSecondStep()\">Next</button>\n        <br>\n        <span style = \"color:red\">{{message}}</span>\n        <br>\n        <a routerLink=\"/login\">Nazad</a>\n\n\n      </div>\n      <div *ngIf=\"firststep === 1\">\n        Razredi gde bi predavali:\n        <br/>\n        <label>\n          <input class = \"btn-outline-dark rounded-pill\" type=\"checkbox\" [checked]=\"selectedAges.includes('osnovna1-4')\" (change)=\"toggleAge('osnovna1-4')\">\n          Osnovna škola 1-4. razred\n        </label>\n        <br/>\n        <label>\n          <input class = \"btn-outline-dark rounded-pill\" type=\"checkbox\" [checked]=\"selectedAges.includes('osnovna5-8')\" (change)=\"toggleAge('osnovna5-8')\">\n          Osnovna škola 5-8. razred\n        </label>\n        <br/>\n        <label>\n          <input class = \"btn-outline-dark rounded-pill\" type=\"checkbox\" [checked]=\"selectedAges.includes('srednja')\" (change)=\"toggleAge('srednja')\">\n          Srednja škola\n        </label>\n        <br/>\n        Gde ste culi za nas sajt: <input class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"user.referenca\" >\n        <br/>\n        Koje predmete bi predavali?\n        <br/>\n        <label *ngFor=\"let predmet of predmeti\">\n          <input class = \"rounded-pill\" type=\"checkbox\" name=\"predmeti\" [value]=\"predmet.predmet\" (change)=\"toggleSelection(predmet.predmet)\">\n          {{ predmet.predmet }}\n          <br/>\n        </label>\n        <br/>\n        Neki drugi predmet(unesite ime zeljenog predmeta ako ocete vise predmeta unesite 1 po 1)?\n        <br/>\n        <input class = \"btn-outline-dark rounded-pill\" type=\"text\" [(ngModel)]=\"predmetToAdd\">\n        <button class=\"btn btn-primary\" (click)=\"addPredmet()\">Dodaj</button>\n        <br/>\n        CV:<input class = \"btn-outline-dark rounded-pill\" type=\"file\" (change)=\"onFileSelected($event)\" accept=\".pdf\" />\n        <br/>\n        <span style = \"color:red\">{{message2}}</span>\n        <br>\n\n        <br/>\n        <button  class=\"btn btn-primary\" (click)=\"showAlert()\">Register</button>\n        <br>\n        <br/>\n        <button class=\"btn btn-primary\" (click)=\"back()\">Nazad</button>\n      </div>\n\n    </div>\n  </div>\n</body>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}