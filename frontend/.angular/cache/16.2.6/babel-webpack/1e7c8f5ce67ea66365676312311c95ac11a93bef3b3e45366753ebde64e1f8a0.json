{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Nastavnik } from '../models/nastavnik';\nimport { Helper } from '../models/helper';\nexport let NastavnikComponent = class NastavnikComponent {\n  constructor(servis) {\n    this.servis = servis;\n    this.where = 1;\n    this.username = \"nastavnik3\";\n    this.nastavnik = new Nastavnik();\n    this.edited = new Nastavnik();\n    this.selectedAges = [];\n    this.casthree = [];\n    this.firstFiveElements = [];\n    this.casovizapotvrdu = [];\n    this.casovizaucenike = [];\n    this.ucenici = [];\n    this.ucenicinodupes = [];\n    this.helper = [];\n  }\n  ngOnInit() {\n    this.where = 1;\n    this.username = \"nastavnik3\";\n    this.servis.getnastavnik(this.username).subscribe(nst => {\n      this.nastavnik = nst;\n    });\n    this.selectedAges = [];\n    this.edited = new Nastavnik();\n    this.servis.getpotvrda(this.username).subscribe(casovi => {\n      this.casovizapotvrdu = casovi;\n    });\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n    });\n    this.servis.getsvojeucenike(this.username).subscribe(casovi => {\n      this.casovizaucenike = casovi;\n      for (let cas of this.casovizaucenike) {\n        this.ucenici.push(cas.ucenik);\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici));\n      for (let ucenik of this.ucenicinodupes) {\n        let hlp = new Helper();\n        hlp.ucenik = ucenik;\n        this.helper.push(hlp);\n      }\n    });\n  }\n  getAll(name) {\n    if (name.toggle) {\n      name.toggle = 0;\n    } else {\n      alert(name.casovi);\n      name.toggle = 1;\n    }\n  }\n  changeWhere(b) {\n    this.where = b;\n    if (b == 3) {\n      for (let hlp of this.helper) {\n        this.servis.getdosije(hlp.ucenik, this.username).subscribe(casovi => {\n          hlp.casovi = casovi;\n        });\n      }\n    }\n  }\n  saveChanges() {\n    this.edited.username = this.nastavnik.username;\n    if (this.edited.name === \"\") this.edited.name = this.nastavnik.name;\n    if (this.edited.surname === \"\") this.edited.surname = this.nastavnik.surname;\n    if (this.edited.adress === \"\") this.edited.adress = this.nastavnik.adress;\n    if (this.edited.email === \"\") this.edited.email = this.nastavnik.email;\n    if (this.edited.telephone === 0) this.edited.telephone = this.nastavnik.telephone;\n    this.edited.predmeti = this.nastavnik.predmeti;\n    if (this.selectedAges.length === 0) {\n      this.edited.razredi = this.nastavnik.razredi;\n    } else {\n      this.edited.razredi = this.selectedAges;\n    }\n    this.servis.updatenastavnik(this.edited).subscribe(data => {});\n    this.ngOnInit();\n  }\n  toggleAge(age) {\n    if (this.selectedAges.includes(age)) {\n      this.selectedAges = this.selectedAges.filter(item => item !== age);\n    } else {\n      // Dodaj uzrast ako ne postoji u nizu\n      this.selectedAges.push(age);\n    }\n  }\n  prihvatiCas(datum) {\n    this.servis.potvrdiCas(datum, this.username, 1).subscribe(data => {\n      alert(data.message);\n    });\n    this.servis.getpotvrda(this.username).subscribe(casovi => {\n      this.casovizapotvrdu = casovi;\n    });\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n    });\n  }\n  odbijCas(datum) {\n    this.servis.potvrdiCas(datum, this.username, 2).subscribe(data => {\n      alert(data.message);\n    });\n    this.servis.getpotvrda(this.username).subscribe(casovi => {\n      this.casovizapotvrdu = casovi;\n    });\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n    });\n  }\n  odrziCas(datum) {\n    this.servis.odrziCas(datum, this.username, 1).subscribe(data => {\n      alert(data.message);\n    });\n    this.servis.getpotvrda(this.username).subscribe(casovi => {\n      this.casovizapotvrdu = casovi;\n    });\n    this.servis.getthree(this.username).subscribe(casovi => {\n      this.casthree = casovi;\n    });\n  }\n};\nNastavnikComponent = __decorate([Component({\n  selector: 'app-nastavnik',\n  templateUrl: './nastavnik.component.html',\n  styleUrls: ['./nastavnik.component.css']\n})], NastavnikComponent);","map":{"version":3,"names":["Component","Nastavnik","Helper","NastavnikComponent","constructor","servis","where","username","nastavnik","edited","selectedAges","casthree","firstFiveElements","casovizapotvrdu","casovizaucenike","ucenici","ucenicinodupes","helper","ngOnInit","getnastavnik","subscribe","nst","getpotvrda","casovi","getthree","getsvojeucenike","cas","push","ucenik","Array","from","Set","hlp","getAll","name","toggle","alert","changeWhere","b","getdosije","saveChanges","surname","adress","email","telephone","predmeti","length","razredi","updatenastavnik","data","toggleAge","age","includes","filter","item","prihvatiCas","datum","potvrdiCas","message","odbijCas","odrziCas","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Teodor\\Desktop\\PIAPROJEKAT\\frontend\\src\\app\\nastavnik\\nastavnik.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { LoginservisService } from '../servisi/loginservis.service';\nimport { Nastavnik } from '../models/nastavnik';\nimport { Cas } from '../models/cas';\nimport { Helper } from '../models/helper';\n\n\n@Component({\n  selector: 'app-nastavnik',\n  templateUrl: './nastavnik.component.html',\n  styleUrls: ['./nastavnik.component.css']\n})\nexport class NastavnikComponent {\n  constructor(private servis : LoginservisService ) {}\n\n  where : number = 1\n  username : string = \"nastavnik3\"\n  nastavnik : Nastavnik = new Nastavnik()\n  edited : Nastavnik = new Nastavnik()\n  selectedAges: string[] = [];\n  casthree : Cas[] = []\n  firstFiveElements: Cas[] = []\n  casovizapotvrdu : Cas[] = []\n  casovizaucenike : Cas[] = []\n  ucenici : string[] = []\n  ucenicinodupes : string[] = []\n  helper : Helper[] = []\n\n  ngOnInit(){\n    this.where = 1\n    this.username = \"nastavnik3\"\n    this.servis.getnastavnik(this.username).subscribe(nst=>{\n      this.nastavnik = nst\n    })\n    this.selectedAges = []\n    this.edited = new Nastavnik()\n    this.servis.getpotvrda(this.username).subscribe(casovi =>{\n      this.casovizapotvrdu = casovi\n    })\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n\n    })\n    this.servis.getsvojeucenike(this.username).subscribe(casovi=>{\n      this.casovizaucenike = casovi\n      for (let cas of this.casovizaucenike){\n        this.ucenici.push(cas.ucenik)\n      }\n      this.ucenicinodupes = Array.from(new Set(this.ucenici))\n      for (let ucenik of this.ucenicinodupes){\n        let hlp = new Helper()\n        hlp.ucenik = ucenik\n\n\n        this.helper.push(hlp)\n      }\n\n    })\n\n\n\n\n\n  }\n  getAll(name : Helper){\n    if(name.toggle){\n      name.toggle = 0\n    }else{\n      alert(name.casovi)\n      name.toggle = 1\n    }\n\n  }\n\n\n  changeWhere(b : number){\n    this.where = b;\n    if(b == 3){\n      for(let hlp of this.helper){\n        this.servis.getdosije(hlp.ucenik,this.username).subscribe(casovi=>{\n          hlp.casovi = casovi\n        })\n      }\n    }\n  }\n\n\n  saveChanges(){\n    this.edited.username = this.nastavnik.username\n    if(this.edited.name  === \"\")this.edited.name = this.nastavnik.name\n    if(this.edited.surname  === \"\")this.edited.surname = this.nastavnik.surname\n    if(this.edited.adress  === \"\")this.edited.adress = this.nastavnik.adress\n    if(this.edited.email  === \"\")this.edited.email = this.nastavnik.email\n    if(this.edited.telephone  === 0)this.edited.telephone = this.nastavnik.telephone\n    this.edited.predmeti = this.nastavnik.predmeti\n    if(this.selectedAges.length === 0){\n      this.edited.razredi = this.nastavnik.razredi\n    }else{\n      this.edited.razredi = this.selectedAges\n    }\n    this.servis.updatenastavnik(this.edited).subscribe(data=>{\n\n    })\n    this.ngOnInit()\n  }\n\n  toggleAge(age: string) {\n    if (this.selectedAges.includes(age)) {\n\n      this.selectedAges = this.selectedAges.filter(item => item !== age);\n    } else {\n      // Dodaj uzrast ako ne postoji u nizu\n      this.selectedAges.push(age);\n    }\n\n\n  }\n\n\n  prihvatiCas(datum : Date){\n    this.servis.potvrdiCas(datum,this.username,1).subscribe(data =>{\n      alert(data.message)\n    })\n    this.servis.getpotvrda(this.username).subscribe(casovi =>{\n      this.casovizapotvrdu = casovi\n    })\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n\n    })\n\n\n\n\n  }\n\n  odbijCas(datum : Date){\n    this.servis.potvrdiCas(datum,this.username,2).subscribe(data =>{\n      alert(data.message)\n    })\n    this.servis.getpotvrda(this.username).subscribe(casovi =>{\n      this.casovizapotvrdu = casovi\n    })\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n\n    })\n\n  }\n\n  odrziCas(datum : Date){\n    this.servis.odrziCas(datum,this.username,1).subscribe(data =>{\n      alert(data.message)\n    })\n    this.servis.getpotvrda(this.username).subscribe(casovi =>{\n      this.casovizapotvrdu = casovi\n    })\n    this.servis.getthree(this.username).subscribe(casovi =>{\n      this.casthree = casovi\n\n    })\n\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}