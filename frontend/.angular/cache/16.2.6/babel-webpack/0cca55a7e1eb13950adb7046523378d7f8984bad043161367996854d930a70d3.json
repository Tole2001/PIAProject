{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nclass NastavnikInfo {\n  constructor(ime, prezime, predmet) {\n    this.ime = \"\";\n    this.prezime = \"\";\n    this.predmet = \"\";\n    this.visible = true;\n    this.ime = ime;\n    this.prezime = prezime;\n    this.predmet = predmet;\n  }\n}\nexport let GuestComponent = class GuestComponent {\n  constructor(servis) {\n    this.servis = servis;\n    this.ucenici = [];\n    this.nastavnici = [];\n    this.casovi = [];\n    this.casovi7 = [];\n    this.casovi31 = [];\n    this.tableainfo = [];\n    this.tableinfoHolder = [];\n    this.searchIme = '';\n    this.searchPrezime = '';\n    this.searchPredmet = '';\n    this.imageUrl = \"\";\n  }\n  ngOnInit() {\n    this.servis.getAllCasoviOdrzani().subscribe(data => {\n      if (data) {\n        this.casovi = data;\n      }\n    });\n    this.servis.getCasoviMonth().subscribe(data => {\n      if (data) {\n        this.casovi31 = data;\n        for (let b of this.casovi31) {\n          console.log(b.datumvreme);\n        }\n      }\n    });\n    this.servis.getCasoviSeven().subscribe(data => {\n      if (data) this.casovi7 = data;\n    });\n    this.servis.getAllUcenici().subscribe(data => {\n      if (data) this.ucenici = data;\n    });\n    this.servis.getAllNastavnik().subscribe(data => {\n      this.nastavnici = data;\n      this.nastavnici.forEach(nastavnik => {\n        nastavnik.predmeti.forEach(predmet => {\n          this.tableainfo.push(new NastavnikInfo(nastavnik.name, nastavnik.surname, predmet));\n        });\n      });\n      this.tableinfoHolder = this.tableainfo;\n    });\n  }\n  sortByPrezime(ascending) {\n    this.tableainfo.sort((a, b) => {\n      const nameA = a.prezime.toLowerCase();\n      const nameB = b.prezime.toLowerCase();\n      if (ascending) {\n        return nameA.localeCompare(nameB);\n      } else {\n        return nameB.localeCompare(nameA);\n      }\n    });\n  }\n  sortByIme(ascending) {\n    this.tableainfo.sort((a, b) => {\n      const nameA = a.ime.toLowerCase();\n      const nameB = b.ime.toLowerCase();\n      if (ascending) {\n        return nameA.localeCompare(nameB);\n      } else {\n        return nameB.localeCompare(nameA);\n      }\n    });\n  }\n  sortByPredmet(ascending) {\n    this.tableainfo.sort((a, b) => {\n      const nameA = a.predmet.toLowerCase();\n      const nameB = b.predmet.toLowerCase();\n      if (ascending) {\n        return nameA.localeCompare(nameB);\n      } else {\n        return nameB.localeCompare(nameA);\n      }\n    });\n  }\n  filterNastavnici() {\n    this.tableainfo.forEach(nastavnik => {\n      const imeMatch = this.searchIme ? nastavnik.ime.toLowerCase().includes(this.searchIme.toLowerCase()) : true;\n      const prezimeMatch = this.searchPrezime ? nastavnik.prezime.toLowerCase().includes(this.searchPrezime.toLowerCase()) : true;\n      const predmetMatch = this.searchPredmet ? nastavnik.predmet.toLowerCase().includes(this.searchPredmet.toLowerCase()) : true;\n      nastavnik.visible = imeMatch && prezimeMatch && predmetMatch;\n    });\n  }\n  fetchImage() {\n    const filename = '1707042431780.jpg'; // Replace with the actual filename of the image\n    this.servis.getImage(filename).subscribe({\n      next: response => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          this.imageUrl = reader.result;\n        };\n        reader.readAsDataURL(response);\n      },\n      error: error => {\n        console.error('Error fetching image:', error);\n      }\n    });\n  }\n};\nGuestComponent = __decorate([Component({\n  selector: 'app-guest',\n  templateUrl: './guest.component.html',\n  styleUrls: ['./guest.component.css']\n})], GuestComponent);","map":{"version":3,"names":["Component","NastavnikInfo","constructor","ime","prezime","predmet","visible","GuestComponent","servis","ucenici","nastavnici","casovi","casovi7","casovi31","tableainfo","tableinfoHolder","searchIme","searchPrezime","searchPredmet","imageUrl","ngOnInit","getAllCasoviOdrzani","subscribe","data","getCasoviMonth","b","console","log","datumvreme","getCasoviSeven","getAllUcenici","getAllNastavnik","forEach","nastavnik","predmeti","push","name","surname","sortByPrezime","ascending","sort","a","nameA","toLowerCase","nameB","localeCompare","sortByIme","sortByPredmet","filterNastavnici","imeMatch","includes","prezimeMatch","predmetMatch","fetchImage","filename","getImage","next","response","reader","FileReader","onloadend","result","readAsDataURL","error","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Teodor\\Desktop\\PIAPROJEKAT\\frontend\\src\\app\\guest\\guest.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { LoginservisService } from '../servisi/loginservis.service';\nimport { Ucenik } from '../models/ucenik';\nimport { Nastavnik } from '../models/nastavnik';\nimport { Cas } from '../models/cas';\n\nclass NastavnikInfo{\n  ime: string = \"\";\n  prezime : string = \"\";\n  predmet: string = \"\";\n  visible : boolean = true;\n\n\n\n  constructor(ime: string, prezime: string, predmet: string) {\n    this.ime = ime;\n    this.prezime = prezime;\n    this.predmet = predmet;\n  }\n}\n\n@Component({\n  selector: 'app-guest',\n  templateUrl: './guest.component.html',\n  styleUrls: ['./guest.component.css']\n})\nexport class GuestComponent {\n  constructor(private servis : LoginservisService){}\n  ucenici : Ucenik[] = []\n  nastavnici : Nastavnik[] = []\n  casovi : Cas[] = []\n  casovi7 : Cas[] = []\n  casovi31 : Cas[] = []\n  tableainfo : NastavnikInfo[] = []\n  tableinfoHolder : NastavnikInfo[] = []\n  searchIme: string = '';\n  searchPrezime: string = '';\n  searchPredmet: string = '';\n  imageUrl: string = \"\"\n\n  ngOnInit(){\n\n    this.servis.getAllCasoviOdrzani().subscribe(data =>{\n      if(data){\n        this.casovi = data\n      }\n    })\n    this.servis.getCasoviMonth().subscribe(data=>{\n      if(data){\n        this.casovi31 = data\n        for(let b of this.casovi31){\n          console.log(b.datumvreme)\n        }\n      }\n\n    })\n    this.servis.getCasoviSeven().subscribe(data=>{\n      if(data)this.casovi7 = data\n    })\n    this.servis.getAllUcenici().subscribe(data => {\n      if(data)this.ucenici = data\n    })\n    this.servis.getAllNastavnik().subscribe(data=>{\n      this.nastavnici = data\n      this.nastavnici.forEach((nastavnik) =>{\n        nastavnik.predmeti.forEach((predmet) =>{\n          this.tableainfo.push(new NastavnikInfo(nastavnik.name, nastavnik.surname, predmet));\n        }\n\n        )\n      })\n      this.tableinfoHolder = this.tableainfo\n\n\n    })\n  }\n\n  sortByPrezime(ascending: boolean){\n    this.tableainfo.sort((a, b) => {\n      const nameA = a.prezime.toLowerCase();\n      const nameB = b.prezime.toLowerCase();\n      if (ascending) {\n        return nameA.localeCompare(nameB);\n      } else {\n        return nameB.localeCompare(nameA);\n      }\n    });\n  }\n\n\n  sortByIme(ascending: boolean){\n    this.tableainfo.sort((a, b) => {\n      const nameA = a.ime.toLowerCase();\n      const nameB = b.ime.toLowerCase();\n      if (ascending) {\n        return nameA.localeCompare(nameB);\n      } else {\n        return nameB.localeCompare(nameA);\n      }\n    });\n  }\n\n\n  sortByPredmet(ascending: boolean){\n    this.tableainfo.sort((a, b) => {\n      const nameA = a.predmet.toLowerCase();\n      const nameB = b.predmet.toLowerCase();\n      if (ascending) {\n        return nameA.localeCompare(nameB);\n      } else {\n        return nameB.localeCompare(nameA);\n      }\n    });\n  }\n\n\n  filterNastavnici(){\n    this.tableainfo.forEach(nastavnik => {\n      const imeMatch = this.searchIme ? nastavnik.ime.toLowerCase().includes(this.searchIme.toLowerCase()) : true;\n      const prezimeMatch = this.searchPrezime ? nastavnik.prezime.toLowerCase().includes(this.searchPrezime.toLowerCase()) : true;\n      const predmetMatch = this.searchPredmet ? nastavnik.predmet.toLowerCase().includes(this.searchPredmet.toLowerCase()) : true;\n\n      nastavnik.visible = imeMatch && prezimeMatch && predmetMatch;\n    });\n  }\n\n\n  fetchImage(): void {\n    const filename = '1707042431780.jpg'; // Replace with the actual filename of the image\n    this.servis.getImage(filename)\n      .subscribe({\n        next: (response: Blob) => {\n          const reader = new FileReader();\n          reader.onloadend = () => {\n            this.imageUrl = reader.result as string;\n          };\n          reader.readAsDataURL(response);\n        },\n        error: (error) => {\n          console.error('Error fetching image:', error);\n        }\n      });\n  }\n\n\n\n\n\n\n}\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}